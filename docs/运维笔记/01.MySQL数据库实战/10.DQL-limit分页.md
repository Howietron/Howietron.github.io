---
title: DQL-limit分页
date: 2023-09-11 03:53:30
permalink: /pages/fb170e/
categories:
  - 运维
  - MySQL数据库实战
tags:
  - 
author: 
  name: Howietron
  link: https://github.com/Howietron
---
# DQL-limit分页

在我们使用查询语句的时候，经常要返回前几条或者中间某几行数据，这个时候怎么办呢？不用担心，mysql已经为我们提供了这样一个功能-limit。

## limit概述

Limit是限制的意思，所以limit的作用就是限制查询记录的条数。

## limit语法

```mysql
格式：
select */字段列表 from 数据库表名 [limit offset,length];
```

**说明：**

offset：起始行数，从 0 开始计数，如果省略，默认就是 0

length： 返回的行数

## limit应用

**案例：**

查询学生信息表中前5条记录

```mysql
#offset可以省略，省略时，从0开始
mysql> select * from students limit 5;
+------+--------+------+------+---------+------+------------+-----------------+
| sid  | sname  | sex  | age  | english | math | entertime  | remark          |
+------+--------+------+------+---------+------+------------+-----------------+
| 1    | 张三 | 男  | 19   | 98.5    | 88.0 | 2017-09-01 | 他来自四川 |
| 2    | 李四 | 男  | 20   | 80.0    | 88.0 | 2017-09-01 | 他来自重庆 |
| 3    | 张红 | 女  | 19   | 86.0    | 80.0 | 2017-09-01 | 他来自北京 |
| 4    | 张八 | 男  | 18   | 80.0    | 85.0 | 2017-09-01 | 他来自天津 |
| 5    | 李三 | 男  | 19   | 60.0    | 88.0 | 2017-09-01 | 他来自湖北 |
+------+--------+------+------+---------+------+------------+-----------------+
5 行于数据集 (0.02 秒)
```

查询学生信息表中从第3条记录开始，查询出5条记录

```mysql
mysql> select * from students limit 2,5;
+------+--------+------+------+---------+------+------------+-----------------+
| sid  | sname  | sex  | age  | english | math | entertime  | remark          |
+------+--------+------+------+---------+------+------------+-----------------+
| 3    | 张红 | 女  | 19   | 86.0    | 80.0 | 2017-09-01 | 他来自北京 |
| 4    | 张八 | 男  | 18   | 80.0    | 85.0 | 2017-09-01 | 他来自天津 |
| 5    | 李三 | 男  | 19   | 60.0    | 88.0 | 2017-09-01 | 他来自湖北 |
| 6    | 王六 | 女  | 20   | 50.0    | 70.0 | 2017-09-01 | 他来自湖南 |
| 7    | 刘红 | 女  | 18   | 90.0    | 98.0 | 2017-09-01 | 他来自甘肃 |
+------+--------+------+------+---------+------+------------+-----------------+
5 行于数据集 (0.01 秒)
```

## limit分页

### 什么是分页

打开百度，输入我们想要查看的信息，查出来的数据会有成千上万条数据，那么这些数据在页面不能一次性展示，这个时候我们就需要用到分页。

![image20200209012451326.png](https://www.zutuanxue.com:8000/static/media/images/2020/10/20/1603189560330.png)

### MySql中的分页

**案例：**

查询学生信息表中的信息，按5条记录为一页展示

**第一页**

```mysql
mysql> select * from students limit 0,5;
+------+--------+------+------+---------+------+------------+-----------------+
| sid  | sname  | sex  | age  | english | math | entertime  | remark          |
+------+--------+------+------+---------+------+------------+-----------------+
| 1    | 张三 | 男  | 19   | 98.5    | 88.0 | 2017-09-01 | 他来自四川 |
| 2    | 李四 | 男  | 20   | 80.0    | 88.0 | 2017-09-01 | 他来自重庆 |
| 3    | 张红 | 女  | 19   | 86.0    | 80.0 | 2017-09-01 | 他来自北京 |
| 4    | 张八 | 男  | 18   | 80.0    | 85.0 | 2017-09-01 | 他来自天津 |
| 5    | 李三 | 男  | 19   | 60.0    | 88.0 | 2017-09-01 | 他来自湖北 |
+------+--------+------+------+---------+------+------------+-----------------+
5 行于数据集 (0.01 秒)
```

**第二页**

```mysql
mysql> select * from students limit 5,5;
+------+-----------+------+------+---------+------+------------+-----------------+
| sid  | sname     | sex  | age  | english | math | entertime  | remark          |
+------+-----------+------+------+---------+------+------------+-----------------+
| 6    | 王六    | 女  | 20   | 50.0    | 70.0 | 2017-09-01 | 他来自湖南 |
| 7    | 刘红    | 女  | 18   | 90.0    | 98.0 | 2017-09-01 | 他来自甘肃 |
| 8    | 王五    | 男  | NULL | NULL    | NULL | NULL       | NULL            |
| 9    | 李老六 | 男  | 19   | NULL    | NULL | NULL       | NULL            |
+------+-----------+------+------+---------+------+------------+-----------------+
4 行于数据集 (0.01 秒)
```

**注意：**

limit中offset在发生着变化，第一页是0，第二页是(前一页的offset+length)，而length并没有发生变化。

如果最后一页的记录数没有指定的length条，是有多少显示多少