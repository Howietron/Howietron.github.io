<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL约束 | Howietron</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.youngkbt.cn/noscript/"><style>.theme-vdoing-content { display:none }</noscript>
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="个人技术博客，前端、后端和运维相关,技术文档,学习,面试。。。">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.1180cbdc.css" as="style"><link rel="preload" href="/assets/js/app.efec1394.js" as="script"><link rel="preload" href="/assets/js/2.baa55158.js" as="script"><link rel="preload" href="/assets/js/281.1066dd22.js" as="script"><link rel="preload" href="/assets/js/3.5eea9231.js" as="script"><link rel="preload" href="/assets/js/4.767d79cf.js" as="script"><link rel="prefetch" href="/assets/js/10.3b13b05c.js"><link rel="prefetch" href="/assets/js/100.b01286f3.js"><link rel="prefetch" href="/assets/js/101.5bdd4596.js"><link rel="prefetch" href="/assets/js/102.6ab8a683.js"><link rel="prefetch" href="/assets/js/103.e8f69a58.js"><link rel="prefetch" href="/assets/js/104.a3bf9c6b.js"><link rel="prefetch" href="/assets/js/105.0c4c08b1.js"><link rel="prefetch" href="/assets/js/106.1c5bdfb1.js"><link rel="prefetch" href="/assets/js/107.b6fae4fc.js"><link rel="prefetch" href="/assets/js/108.68cde701.js"><link rel="prefetch" href="/assets/js/109.49a3df39.js"><link rel="prefetch" href="/assets/js/11.d9bf4d2d.js"><link rel="prefetch" href="/assets/js/110.11291c10.js"><link rel="prefetch" href="/assets/js/111.c110d998.js"><link rel="prefetch" href="/assets/js/112.e7894366.js"><link rel="prefetch" href="/assets/js/113.94a6314c.js"><link rel="prefetch" href="/assets/js/114.362c312f.js"><link rel="prefetch" href="/assets/js/115.2cbff8dd.js"><link rel="prefetch" href="/assets/js/116.1f7e4a59.js"><link rel="prefetch" href="/assets/js/117.a3e42778.js"><link rel="prefetch" href="/assets/js/118.42543450.js"><link rel="prefetch" href="/assets/js/119.83a1879e.js"><link rel="prefetch" href="/assets/js/12.2ac4be97.js"><link rel="prefetch" href="/assets/js/120.6d183e80.js"><link rel="prefetch" href="/assets/js/121.939bc7e5.js"><link rel="prefetch" href="/assets/js/122.dd026c21.js"><link rel="prefetch" href="/assets/js/123.cac13eaa.js"><link rel="prefetch" href="/assets/js/124.ece0ff41.js"><link rel="prefetch" href="/assets/js/125.db2797ab.js"><link rel="prefetch" href="/assets/js/126.9cd45a47.js"><link rel="prefetch" href="/assets/js/127.8d1dabe9.js"><link rel="prefetch" href="/assets/js/128.82c5f047.js"><link rel="prefetch" href="/assets/js/129.4d559209.js"><link rel="prefetch" href="/assets/js/13.8209197b.js"><link rel="prefetch" href="/assets/js/130.5d7516fc.js"><link rel="prefetch" href="/assets/js/131.b43fae88.js"><link rel="prefetch" href="/assets/js/132.b4c92d7a.js"><link rel="prefetch" href="/assets/js/133.0d640d3c.js"><link rel="prefetch" href="/assets/js/134.3a65fa39.js"><link rel="prefetch" href="/assets/js/135.6274ab71.js"><link rel="prefetch" href="/assets/js/136.18f78162.js"><link rel="prefetch" href="/assets/js/137.77d4d3af.js"><link rel="prefetch" href="/assets/js/138.c2bbd6ab.js"><link rel="prefetch" href="/assets/js/139.ad5725e8.js"><link rel="prefetch" href="/assets/js/14.17a17c6d.js"><link rel="prefetch" href="/assets/js/140.1a42a8e1.js"><link rel="prefetch" href="/assets/js/141.fe4fff51.js"><link rel="prefetch" href="/assets/js/142.911e7232.js"><link rel="prefetch" href="/assets/js/143.c511bd08.js"><link rel="prefetch" href="/assets/js/144.6de32945.js"><link rel="prefetch" href="/assets/js/145.6cef16e9.js"><link rel="prefetch" href="/assets/js/146.e5be08eb.js"><link rel="prefetch" href="/assets/js/147.a038d1b5.js"><link rel="prefetch" href="/assets/js/148.c51d847d.js"><link rel="prefetch" href="/assets/js/149.c47a89e5.js"><link rel="prefetch" href="/assets/js/15.e80d9c66.js"><link rel="prefetch" href="/assets/js/150.5c4e912a.js"><link rel="prefetch" href="/assets/js/151.530d5759.js"><link rel="prefetch" href="/assets/js/152.b93aef8e.js"><link rel="prefetch" href="/assets/js/153.bab79a52.js"><link rel="prefetch" href="/assets/js/154.f12f623e.js"><link rel="prefetch" href="/assets/js/155.c519b43b.js"><link rel="prefetch" href="/assets/js/156.c45be39f.js"><link rel="prefetch" href="/assets/js/157.cf405573.js"><link rel="prefetch" href="/assets/js/158.a0acdb0b.js"><link rel="prefetch" href="/assets/js/159.f9e403bf.js"><link rel="prefetch" href="/assets/js/16.8b6c948d.js"><link rel="prefetch" href="/assets/js/160.304bb369.js"><link rel="prefetch" href="/assets/js/161.f0bd1784.js"><link rel="prefetch" href="/assets/js/162.28d46860.js"><link rel="prefetch" href="/assets/js/163.b10c3935.js"><link rel="prefetch" href="/assets/js/164.133824b0.js"><link rel="prefetch" href="/assets/js/165.a797ab3c.js"><link rel="prefetch" href="/assets/js/166.73bc18cd.js"><link rel="prefetch" href="/assets/js/167.26ae5651.js"><link rel="prefetch" href="/assets/js/168.c451bc01.js"><link rel="prefetch" href="/assets/js/169.e0229631.js"><link rel="prefetch" href="/assets/js/17.ec351fdb.js"><link rel="prefetch" href="/assets/js/170.6da583be.js"><link rel="prefetch" href="/assets/js/171.30def4f9.js"><link rel="prefetch" href="/assets/js/172.fb1cf739.js"><link rel="prefetch" href="/assets/js/173.6260c2fb.js"><link rel="prefetch" href="/assets/js/174.0fd8678f.js"><link rel="prefetch" href="/assets/js/175.3e7afe7c.js"><link rel="prefetch" href="/assets/js/176.6fc7ac76.js"><link rel="prefetch" href="/assets/js/177.f2eb0986.js"><link rel="prefetch" href="/assets/js/178.4afeb5a3.js"><link rel="prefetch" href="/assets/js/179.f3adaac8.js"><link rel="prefetch" href="/assets/js/18.335bef6d.js"><link rel="prefetch" href="/assets/js/180.aba9cd4c.js"><link rel="prefetch" href="/assets/js/181.a20f652d.js"><link rel="prefetch" href="/assets/js/182.1523a2af.js"><link rel="prefetch" href="/assets/js/183.92f6969e.js"><link rel="prefetch" href="/assets/js/184.e5bfd3d3.js"><link rel="prefetch" href="/assets/js/185.359384af.js"><link rel="prefetch" href="/assets/js/186.2ff57e02.js"><link rel="prefetch" href="/assets/js/187.7d0119c3.js"><link rel="prefetch" href="/assets/js/188.43da15d8.js"><link rel="prefetch" href="/assets/js/189.9102adb8.js"><link rel="prefetch" href="/assets/js/19.98910ea0.js"><link rel="prefetch" href="/assets/js/190.1d28d3cc.js"><link rel="prefetch" href="/assets/js/191.dfff5e82.js"><link rel="prefetch" href="/assets/js/192.3bb5bad6.js"><link rel="prefetch" href="/assets/js/193.a8c3216f.js"><link rel="prefetch" href="/assets/js/194.9ab2fb9a.js"><link rel="prefetch" href="/assets/js/195.bdf80209.js"><link rel="prefetch" href="/assets/js/196.6da784c1.js"><link rel="prefetch" href="/assets/js/197.4ee95c54.js"><link rel="prefetch" href="/assets/js/198.0a7f8b18.js"><link rel="prefetch" href="/assets/js/199.a372b2aa.js"><link rel="prefetch" href="/assets/js/20.53c97e10.js"><link rel="prefetch" href="/assets/js/200.3b279ff0.js"><link rel="prefetch" href="/assets/js/201.8ad75a0b.js"><link rel="prefetch" href="/assets/js/202.2687160a.js"><link rel="prefetch" href="/assets/js/203.d5753880.js"><link rel="prefetch" href="/assets/js/204.836cbdc5.js"><link rel="prefetch" href="/assets/js/205.3b9c5dd0.js"><link rel="prefetch" href="/assets/js/206.440ab54e.js"><link rel="prefetch" href="/assets/js/207.1cabfe43.js"><link rel="prefetch" href="/assets/js/208.df4dc09a.js"><link rel="prefetch" href="/assets/js/209.73f1e9f2.js"><link rel="prefetch" href="/assets/js/21.e94d5a74.js"><link rel="prefetch" href="/assets/js/210.10fe4d9f.js"><link rel="prefetch" href="/assets/js/211.d986d58c.js"><link rel="prefetch" href="/assets/js/212.746dc8f8.js"><link rel="prefetch" href="/assets/js/213.24385dbe.js"><link rel="prefetch" href="/assets/js/214.e771a8eb.js"><link rel="prefetch" href="/assets/js/215.d3b407f7.js"><link rel="prefetch" href="/assets/js/216.6374370e.js"><link rel="prefetch" href="/assets/js/217.30b7a06c.js"><link rel="prefetch" href="/assets/js/218.6b40e583.js"><link rel="prefetch" href="/assets/js/219.e1d32586.js"><link rel="prefetch" href="/assets/js/22.6ab3ce77.js"><link rel="prefetch" href="/assets/js/220.24a076cd.js"><link rel="prefetch" href="/assets/js/221.65db94b6.js"><link rel="prefetch" href="/assets/js/222.d7685c37.js"><link rel="prefetch" href="/assets/js/223.c0cad8db.js"><link rel="prefetch" href="/assets/js/224.4e6e21a1.js"><link rel="prefetch" href="/assets/js/225.dab7a608.js"><link rel="prefetch" href="/assets/js/226.8a035b17.js"><link rel="prefetch" href="/assets/js/227.6b162014.js"><link rel="prefetch" href="/assets/js/228.daf5d874.js"><link rel="prefetch" href="/assets/js/229.8733ef2e.js"><link rel="prefetch" href="/assets/js/23.a9e83af4.js"><link rel="prefetch" href="/assets/js/230.88422bb0.js"><link rel="prefetch" href="/assets/js/231.92b2e2b1.js"><link rel="prefetch" href="/assets/js/232.f1d46ee8.js"><link rel="prefetch" href="/assets/js/233.d4df07fe.js"><link rel="prefetch" href="/assets/js/234.02819259.js"><link rel="prefetch" href="/assets/js/235.56d2e855.js"><link rel="prefetch" href="/assets/js/236.2fbf6cc0.js"><link rel="prefetch" href="/assets/js/237.b7e9a809.js"><link rel="prefetch" href="/assets/js/238.51c9dc6d.js"><link rel="prefetch" href="/assets/js/239.7e6c972a.js"><link rel="prefetch" href="/assets/js/24.d0ab466a.js"><link rel="prefetch" href="/assets/js/240.9002bd6a.js"><link rel="prefetch" href="/assets/js/241.14bd461c.js"><link rel="prefetch" href="/assets/js/242.23714d9a.js"><link rel="prefetch" href="/assets/js/243.b44c5071.js"><link rel="prefetch" href="/assets/js/244.d4ac599a.js"><link rel="prefetch" href="/assets/js/245.c9250cfc.js"><link rel="prefetch" href="/assets/js/246.c657d538.js"><link rel="prefetch" href="/assets/js/247.0c5c094c.js"><link rel="prefetch" href="/assets/js/248.421e505c.js"><link rel="prefetch" href="/assets/js/249.b0e64c28.js"><link rel="prefetch" href="/assets/js/25.60d8ac22.js"><link rel="prefetch" href="/assets/js/250.08b4ff41.js"><link rel="prefetch" href="/assets/js/251.67802839.js"><link rel="prefetch" href="/assets/js/252.218c1345.js"><link rel="prefetch" href="/assets/js/253.33f34153.js"><link rel="prefetch" href="/assets/js/254.afde0750.js"><link rel="prefetch" href="/assets/js/255.7e1606bf.js"><link rel="prefetch" href="/assets/js/256.e36f29b1.js"><link rel="prefetch" href="/assets/js/257.355ad5ac.js"><link rel="prefetch" href="/assets/js/258.d7bc4753.js"><link rel="prefetch" href="/assets/js/259.c17b6e26.js"><link rel="prefetch" href="/assets/js/26.deb16537.js"><link rel="prefetch" href="/assets/js/260.f7419621.js"><link rel="prefetch" href="/assets/js/261.d3dd1d05.js"><link rel="prefetch" href="/assets/js/262.e244f177.js"><link rel="prefetch" href="/assets/js/263.411689b4.js"><link rel="prefetch" href="/assets/js/264.d743d35f.js"><link rel="prefetch" href="/assets/js/265.838a8856.js"><link rel="prefetch" href="/assets/js/266.b3af957c.js"><link rel="prefetch" href="/assets/js/267.b31c4ede.js"><link rel="prefetch" href="/assets/js/268.25f40f99.js"><link rel="prefetch" href="/assets/js/269.48a81922.js"><link rel="prefetch" href="/assets/js/27.3c4c9af3.js"><link rel="prefetch" href="/assets/js/270.b0ce22bb.js"><link rel="prefetch" href="/assets/js/271.999fd44b.js"><link rel="prefetch" href="/assets/js/272.00caac79.js"><link rel="prefetch" href="/assets/js/273.5e53f371.js"><link rel="prefetch" href="/assets/js/274.d8413cd3.js"><link rel="prefetch" href="/assets/js/275.0a522f02.js"><link rel="prefetch" href="/assets/js/276.dd2857e3.js"><link rel="prefetch" href="/assets/js/277.462ef486.js"><link rel="prefetch" href="/assets/js/278.bca69f31.js"><link rel="prefetch" href="/assets/js/279.144ae255.js"><link rel="prefetch" href="/assets/js/28.b2314e74.js"><link rel="prefetch" href="/assets/js/280.aeea68cd.js"><link rel="prefetch" href="/assets/js/282.a3308f2e.js"><link rel="prefetch" href="/assets/js/283.21356000.js"><link rel="prefetch" href="/assets/js/284.7a0c39a9.js"><link rel="prefetch" href="/assets/js/285.6dccd77a.js"><link rel="prefetch" href="/assets/js/286.cdadc99e.js"><link rel="prefetch" href="/assets/js/287.af582de2.js"><link rel="prefetch" href="/assets/js/288.f65e1040.js"><link rel="prefetch" href="/assets/js/289.b989fea7.js"><link rel="prefetch" href="/assets/js/29.a604dc87.js"><link rel="prefetch" href="/assets/js/290.b418f1d5.js"><link rel="prefetch" href="/assets/js/291.59890caf.js"><link rel="prefetch" href="/assets/js/292.cfe8baaf.js"><link rel="prefetch" href="/assets/js/293.ffff4036.js"><link rel="prefetch" href="/assets/js/294.1afd28d9.js"><link rel="prefetch" href="/assets/js/295.f1046b1d.js"><link rel="prefetch" href="/assets/js/296.dd8e0a9a.js"><link rel="prefetch" href="/assets/js/297.612a3200.js"><link rel="prefetch" href="/assets/js/298.2bc54ffd.js"><link rel="prefetch" href="/assets/js/299.f7afd790.js"><link rel="prefetch" href="/assets/js/30.6a41a33a.js"><link rel="prefetch" href="/assets/js/300.71fbe2cd.js"><link rel="prefetch" href="/assets/js/301.7ba4ed0f.js"><link rel="prefetch" href="/assets/js/302.6e57a193.js"><link rel="prefetch" href="/assets/js/303.c33da857.js"><link rel="prefetch" href="/assets/js/31.a0aabc00.js"><link rel="prefetch" href="/assets/js/32.de9517b4.js"><link rel="prefetch" href="/assets/js/33.18bdd9d5.js"><link rel="prefetch" href="/assets/js/34.fcb65957.js"><link rel="prefetch" href="/assets/js/35.54abe04c.js"><link rel="prefetch" href="/assets/js/36.e603e238.js"><link rel="prefetch" href="/assets/js/37.916614a8.js"><link rel="prefetch" href="/assets/js/38.12b4c2f5.js"><link rel="prefetch" href="/assets/js/39.8d1b2b65.js"><link rel="prefetch" href="/assets/js/40.7b7ea6b2.js"><link rel="prefetch" href="/assets/js/41.f68e1b57.js"><link rel="prefetch" href="/assets/js/42.7f712e1a.js"><link rel="prefetch" href="/assets/js/43.e7e9b800.js"><link rel="prefetch" href="/assets/js/44.31976a55.js"><link rel="prefetch" href="/assets/js/45.a0251b94.js"><link rel="prefetch" href="/assets/js/46.987fc699.js"><link rel="prefetch" href="/assets/js/47.d9c8b205.js"><link rel="prefetch" href="/assets/js/48.d0906290.js"><link rel="prefetch" href="/assets/js/49.58b324fb.js"><link rel="prefetch" href="/assets/js/5.0bf8f188.js"><link rel="prefetch" href="/assets/js/50.9cd9fccc.js"><link rel="prefetch" href="/assets/js/51.62bde3ad.js"><link rel="prefetch" href="/assets/js/52.e3b62f70.js"><link rel="prefetch" href="/assets/js/53.5c8ce506.js"><link rel="prefetch" href="/assets/js/54.14860023.js"><link rel="prefetch" href="/assets/js/55.dbf5b041.js"><link rel="prefetch" href="/assets/js/56.864b8dcb.js"><link rel="prefetch" href="/assets/js/57.efe9e804.js"><link rel="prefetch" href="/assets/js/58.d3973343.js"><link rel="prefetch" href="/assets/js/59.f66c3877.js"><link rel="prefetch" href="/assets/js/6.74656c32.js"><link rel="prefetch" href="/assets/js/60.e558c077.js"><link rel="prefetch" href="/assets/js/61.af7aa046.js"><link rel="prefetch" href="/assets/js/62.91a6cbd2.js"><link rel="prefetch" href="/assets/js/63.597f8e39.js"><link rel="prefetch" href="/assets/js/64.60a1ec21.js"><link rel="prefetch" href="/assets/js/65.367fdf9c.js"><link rel="prefetch" href="/assets/js/66.090a0a80.js"><link rel="prefetch" href="/assets/js/67.ba384e10.js"><link rel="prefetch" href="/assets/js/68.919e667a.js"><link rel="prefetch" href="/assets/js/69.ee88ef9f.js"><link rel="prefetch" href="/assets/js/7.772fb419.js"><link rel="prefetch" href="/assets/js/70.0cc9537e.js"><link rel="prefetch" href="/assets/js/71.30fa059a.js"><link rel="prefetch" href="/assets/js/72.ec874379.js"><link rel="prefetch" href="/assets/js/73.da2947ca.js"><link rel="prefetch" href="/assets/js/74.de02b648.js"><link rel="prefetch" href="/assets/js/75.7e17f744.js"><link rel="prefetch" href="/assets/js/76.0f02d430.js"><link rel="prefetch" href="/assets/js/77.6fbfa690.js"><link rel="prefetch" href="/assets/js/78.b65f5fd5.js"><link rel="prefetch" href="/assets/js/79.efc151bd.js"><link rel="prefetch" href="/assets/js/8.13b9866a.js"><link rel="prefetch" href="/assets/js/80.96c130f6.js"><link rel="prefetch" href="/assets/js/81.4816af5d.js"><link rel="prefetch" href="/assets/js/82.0649d8df.js"><link rel="prefetch" href="/assets/js/83.59be9167.js"><link rel="prefetch" href="/assets/js/84.d711f01d.js"><link rel="prefetch" href="/assets/js/85.8f3269d6.js"><link rel="prefetch" href="/assets/js/86.d7b1b437.js"><link rel="prefetch" href="/assets/js/87.ebc9cda6.js"><link rel="prefetch" href="/assets/js/88.72829417.js"><link rel="prefetch" href="/assets/js/89.79fb7fb1.js"><link rel="prefetch" href="/assets/js/9.9431645c.js"><link rel="prefetch" href="/assets/js/90.8c511d54.js"><link rel="prefetch" href="/assets/js/91.65719710.js"><link rel="prefetch" href="/assets/js/92.fe6b22e4.js"><link rel="prefetch" href="/assets/js/93.1e581469.js"><link rel="prefetch" href="/assets/js/94.fdf28e50.js"><link rel="prefetch" href="/assets/js/95.11deed95.js"><link rel="prefetch" href="/assets/js/96.b130f70d.js"><link rel="prefetch" href="/assets/js/97.66b96b75.js"><link rel="prefetch" href="/assets/js/98.48b3008c.js"><link rel="prefetch" href="/assets/js/99.fc11ffe3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1180cbdc.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://oss.howie.top/img/2023/09/1320230913133821.png" alt="Howietron" class="logo"> <span class="site-name can-hide">Howietron</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML&amp;CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0f90d5/" class="nav-link">HTML基础</a></li><li class="dropdown-subitem"><a href="/pages/bc9ae0/" class="nav-link">CSS基础</a></li><li class="dropdown-subitem"><a href="/pages/82afa9/" class="nav-link">CSS进阶</a></li><li class="dropdown-subitem"><a href="/pages/bc6919/" class="nav-link">HTML5+CSS3</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/9043f0/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><h4>前端笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/react/" class="nav-link">《React》</a></li><li class="dropdown-subitem"><a href="/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">《Git》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0694db/" class="nav-link">Java核心基础</a></li><li class="dropdown-item"><!----> <a href="/pages/baf2c1/" class="nav-link">Java后端框架</a></li><li class="dropdown-item"><!----> <a href="/pages/d860e2/" class="nav-link">分布式中间件</a></li><li class="dropdown-item"><!----> <a href="/pages/85ae20/" class="nav-link">微服务架构</a></li><li class="dropdown-item"><!----> <a href="/pages/2724aa/" class="nav-link">算法和数据结构</a></li><li class="dropdown-item"><!----> <a href="/pages/659821/" class="nav-link">底层必备源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/devops/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f78d73/" class="nav-link">Linux学习</a></li><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/MySQL/" class="nav-link">运维笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://ai.howie.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AI智能助手
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/7e66b5/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/Howietron/Howietron.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://oss.howie.top/img/202306031748859.gif"> <div class="blogger-info"><h3>Howietron</h3> <span>放平心态，偷偷厉害。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML&amp;CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0f90d5/" class="nav-link">HTML基础</a></li><li class="dropdown-subitem"><a href="/pages/bc9ae0/" class="nav-link">CSS基础</a></li><li class="dropdown-subitem"><a href="/pages/82afa9/" class="nav-link">CSS进阶</a></li><li class="dropdown-subitem"><a href="/pages/bc6919/" class="nav-link">HTML5+CSS3</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/9043f0/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><h4>前端笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/react/" class="nav-link">《React》</a></li><li class="dropdown-subitem"><a href="/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/git/" class="nav-link">《Git》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0694db/" class="nav-link">Java核心基础</a></li><li class="dropdown-item"><!----> <a href="/pages/baf2c1/" class="nav-link">Java后端框架</a></li><li class="dropdown-item"><!----> <a href="/pages/d860e2/" class="nav-link">分布式中间件</a></li><li class="dropdown-item"><!----> <a href="/pages/85ae20/" class="nav-link">微服务架构</a></li><li class="dropdown-item"><!----> <a href="/pages/2724aa/" class="nav-link">算法和数据结构</a></li><li class="dropdown-item"><!----> <a href="/pages/659821/" class="nav-link">底层必备源码</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/devops/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f78d73/" class="nav-link">Linux学习</a></li><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/MySQL/" class="nav-link">运维笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://ai.howie.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AI智能助手
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/7e66b5/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/Howietron/Howietron.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>MySQL数据库实战</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/0d5670/" class="sidebar-link">数据库介绍</a></li><li><a href="/pages/5ecffe/" class="sidebar-link">MySql安装与使用</a></li><li><a href="/pages/bdc3ef/" class="sidebar-link">MySql客户端</a></li><li><a href="/pages/bb8b72/" class="sidebar-link">SQL介绍</a></li><li><a href="/pages/11d451/" class="sidebar-link">DDL语句</a></li><li><a href="/pages/d3583e/" class="sidebar-link">DML语句</a></li><li><a href="/pages/c6ca92/" class="sidebar-link">DQL语句</a></li><li><a href="/pages/d35556/" class="sidebar-link">DQL语句排序与分组</a></li><li><a href="/pages/767941/" class="sidebar-link">DQL-聚合函数</a></li><li><a href="/pages/fb170e/" class="sidebar-link">DQL-limit分页</a></li><li><a href="/pages/5c4cee/" class="sidebar-link">DQL-模糊查询</a></li><li><a href="/pages/2c5203/" aria-current="page" class="active sidebar-link">MySQL约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/2c5203/#约束概述" class="sidebar-link">约束概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#什么是约束" class="sidebar-link">什么是约束</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#约束作用" class="sidebar-link">约束作用</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#约束分类" class="sidebar-link">约束分类</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/2c5203/#二、主键约束" class="sidebar-link">二、主键约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#主键约束格式" class="sidebar-link">主键约束格式</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#主键约束作用" class="sidebar-link">主键约束作用</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#主键约束应用" class="sidebar-link">主键约束应用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/2c5203/#三、主键自增" class="sidebar-link">三、主键自增</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#主键自增格式" class="sidebar-link">主键自增格式</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#修改主键自增起始值" class="sidebar-link">修改主键自增起始值</a></li><li class="sidebar-sub-header level4"><a href="/pages/2c5203/#创建表后修改" class="sidebar-link">创建表后修改</a></li><li class="sidebar-sub-header level4"><a href="/pages/2c5203/#创建表时修改" class="sidebar-link">创建表时修改</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#记录删除后对自增的影响" class="sidebar-link">记录删除后对自增的影响</a></li><li class="sidebar-sub-header level4"><a href="/pages/2c5203/#delete" class="sidebar-link">delete</a></li><li class="sidebar-sub-header level4"><a href="/pages/2c5203/#truncate" class="sidebar-link">truncate</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/2c5203/#唯一约束" class="sidebar-link">唯一约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#唯一约束格式" class="sidebar-link">唯一约束格式</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#唯一约束应用" class="sidebar-link">唯一约束应用</a></li><li class="sidebar-sub-header level4"><a href="/pages/2c5203/#插入相同记录" class="sidebar-link">插入相同记录</a></li><li class="sidebar-sub-header level4"><a href="/pages/2c5203/#插入null记录" class="sidebar-link">插入null记录</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/2c5203/#非空约束" class="sidebar-link">非空约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#非空约束格式" class="sidebar-link">非空约束格式</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#非空约束应用" class="sidebar-link">非空约束应用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/2c5203/#默认值" class="sidebar-link">默认值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#默认值格式" class="sidebar-link">默认值格式</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#默认值应用" class="sidebar-link">默认值应用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/2c5203/#外键约束产生" class="sidebar-link">外键约束产生</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#数据冗余" class="sidebar-link">数据冗余</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#表的数据冗余" class="sidebar-link">表的数据冗余</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#_7-3、为什么要使用外键约束" class="sidebar-link">7.3、为什么要使用外键约束</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#什么是外键约束" class="sidebar-link">什么是外键约束</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/2c5203/#外键约束" class="sidebar-link">外键约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#外键约束格式" class="sidebar-link">外键约束格式</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#删除外键约束" class="sidebar-link">删除外键约束</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/2c5203/#级联操作" class="sidebar-link">级联操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#为什么要级联" class="sidebar-link">为什么要级联</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#级联是什么" class="sidebar-link">级联是什么</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#级联操作方式" class="sidebar-link">级联操作方式</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/2c5203/#检查约束" class="sidebar-link">检查约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#什么是检查约束" class="sidebar-link">什么是检查约束</a></li><li class="sidebar-sub-header level3"><a href="/pages/2c5203/#检查约束使用" class="sidebar-link">检查约束使用</a></li><li class="sidebar-sub-header level4"><a href="/pages/2c5203/#行级添加" class="sidebar-link">行级添加</a></li><li class="sidebar-sub-header level4"><a href="/pages/2c5203/#表级添加" class="sidebar-link">表级添加</a></li><li class="sidebar-sub-header level4"><a href="/pages/2c5203/#表后添加" class="sidebar-link">表后添加</a></li><li class="sidebar-sub-header level4"><a href="/pages/2c5203/#约束删除" class="sidebar-link">约束删除</a></li></ul></li></ul></li><li><a href="/pages/e83ed2/" class="sidebar-link">表与表之间关系</a></li><li><a href="/pages/6b6977/" class="sidebar-link">多表连接查询</a></li><li><a href="/pages/8e18ff/" class="sidebar-link">MySQL子查询</a></li><li><a href="/pages/f2bc14/" class="sidebar-link">MySQL事务</a></li><li><a href="/pages/240a9d/" class="sidebar-link">MySQL视图</a></li><li><a href="/pages/790185/" class="sidebar-link">MySQL常用函数</a></li><li><a href="/pages/b4b612/" class="sidebar-link">MySQL 存储过程</a></li><li><a href="/pages/84c045/" class="sidebar-link">数据库设计</a></li><li><a href="/pages/1d7c2a/" class="sidebar-link">MySQL数据备份与还原</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GitLab的安装及使用</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E8%BF%90%E7%BB%B4%E7%AC%94%E8%AE%B0" title="分类" data-v-06225672>运维笔记</a></li><li data-v-06225672><a href="/categories/?category=MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E6%88%98" title="分类" data-v-06225672>MySQL数据库实战</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/Howietron" target="_blank" title="作者" class="beLink" data-v-06225672>Howietron</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-09-11</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">MySQL约束<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="mysql约束"><a href="#mysql约束" class="header-anchor">#</a> MySQL约束</h1> <p>约束是按照约定（特定）条件限制，管束等意思。约束的作用是添加、删除。</p> <p>在数据库中对表中的数据进行限制，保证数据的正确性、有效性和完整性。一个表如果添加了约束，不正确的数据将无法插入到表中。约束在创建表的时候添加比较合适。</p> <h2 id="约束概述"><a href="#约束概述" class="header-anchor">#</a> 约束概述</h2> <h3 id="什么是约束"><a href="#什么是约束" class="header-anchor">#</a> 什么是约束</h3> <p>约束用于限制加入表的数据的类型。</p> <p>可以在创建表时规定约束（通过 CREATE TABLE 语句），或者在表创建之后也可以（通过 ALTER TABLE 语句）。</p> <h3 id="约束作用"><a href="#约束作用" class="header-anchor">#</a> 约束作用</h3> <p>对表中的数据进行限制，保证数据的正确性、有效性和完整性。一个表如果添加了约束，不正确的数据将无法插入到表中。约束在创建表的时候添加比较合适。</p> <h3 id="约束分类"><a href="#约束分类" class="header-anchor">#</a> 约束分类</h3> <p><strong>主键</strong> primary key</p> <p><strong>唯一</strong> unique</p> <p><strong>非空</strong> not null</p> <p><strong>默认值</strong> default</p> <p><strong>外键</strong> foreign key</p> <p><strong>检查约束</strong> check</p> <h2 id="二、主键约束"><a href="#二、主键约束" class="header-anchor">#</a> 二、主键约束</h2> <h3 id="主键约束格式"><a href="#主键约束格式" class="header-anchor">#</a> 主键约束格式</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>格式1：
字段名 字段类型 primary key  #在create table 语句中设置主键
格式2：
alter table 数据库表名 add primary key(字段名); #在已经创建好的数据库表中增加主键
格式3：
alter table 数据库表名 drop primary key; #在已经创建好的数据库表中删除主键
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>注意：</strong></p> <p>非空 not null</p> <p>唯一</p> <h3 id="主键约束作用"><a href="#主键约束作用" class="header-anchor">#</a> 主键约束作用</h3> <p>是每一条记录的唯一标识，不会重复。</p> <p><strong>如：</strong></p> <p><img src="https://www.zutuanxue.com:8000/static/media/images/2020/10/21/1603240514001.png" alt="image20200210091102251.png"></p> <p><strong>注意：</strong></p> <p>通常主键，单独给每张表设计一个 id 的字段，把 id 作为主键。</p> <p>主键是给数据库和程序使用的，不是给最终的客户使用的。所以主键有没有含义没有关系，只要不重复，非空就行。</p> <h3 id="主键约束应用"><a href="#主键约束应用" class="header-anchor">#</a> 主键约束应用</h3> <p>创建一个老师表，里面包含了字段名（tid，tname，sex，age），将tid做为主键</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table teacher(
   tid int primary key, -- sid为主键
   tname varchar(20),
   sex varchar(2),
   age int
);
mysql&gt; create table teacher(
   tid int primary key, -- sid为主键
   tname varchar(20),
   sex varchar(2),
   age int
);
Query OK, 0 rows affected (0.10 秒)

mysql&gt; desc teacher;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| tid   | int(11)     | NO   | PRI | NULL    |       |
| tname | varchar(20) | YES  |     | NULL    |       |
| sex   | varchar(2)  | YES  |     | NULL    |       |
| age   | int(11)     | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
4 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>往老师表中插入记录</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>#插入记录
mysql&gt; insert into teacher values(1,'李小四','男',45);
Query OK, 1 rows affected (0.08 秒)
#插入相同记录
mysql&gt; insert into teacher values(1,'李小四','男',45);
Duplicate entry '1' for key 'PRIMARY'
mysql&gt; select * from teacher;
+-----+-----------+------+------+
| tid | tname     | sex  | age  |
+-----+-----------+------+------+
| 1   | 李小四 | 男  | 45   |
+-----+-----------+------+------+
1 行于数据集 (0.01 秒)
#插入一条null记录
mysql&gt; insert into teacher values(null,'李小四','男',45);
Column 'tid' cannot be null
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>去掉老师表中的主键约束</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; alter table teacher drop primary key;
Query OK, 1 rows affected (0.07 秒)
mysql&gt; desc teacher;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| tid   | int(11)     | NO   |     | NULL    |       |
| tname | varchar(20) | YES  |     | NULL    |       |
| sex   | varchar(2)  | YES  |     | NULL    |       |
| age   | int(11)     | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
4 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>为老师表添加主键约束</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; alter table teacher add primary key(tid);
Query OK, 0 rows affected (0.25 秒)

mysql&gt; desc teacher;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| tid   | int(11)     | NO   | PRI | NULL    |       |
| tname | varchar(20) | YES  |     | NULL    |       |
| sex   | varchar(2)  | YES  |     | NULL    |       |
| age   | int(11)     | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
4 行于数据集 (0.02 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="三、主键自增"><a href="#三、主键自增" class="header-anchor">#</a> 三、主键自增</h2> <h3 id="主键自增格式"><a href="#主键自增格式" class="header-anchor">#</a> 主键自增格式</h3> <p>在数据库表中，主键一般情况下，我们是用一个id字段来表示，如果让我们自己添加的话要做到不能重复、不能为空就比较麻烦，所以主键我们都是设置为自动增长。</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>格式：
字段名 字段类型 primary key auto_increment
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>案例：</strong></p> <p>创建一个用户表，表里面有用户名和密码</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table user(
   uid int primary key auto_increment,
   uname varchar(20),
   pword varchar(20)
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>在用户表中插入二条件数据</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into user(uname,pword)values('zutuanxue01','00001');
Query OK, 1 rows affected (0.06 秒)

mysql&gt; insert into user(uname,pword)values('zutuanxue02','00002');
Query OK, 1 rows affected (0.01 秒)

mysql&gt; select * from user;
+-----+------------+-------+
| uid | uname      | pword |
+-----+------------+-------+
| 1   | zutuanxue01 | 00001 |
| 2   | zutuanxue02 | 00002 |
+-----+------------+-------+
2 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>注意：</strong></p> <p>设置表字段的自增长后，他的默认起始值从1开始</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into user values(null,'zutuanxue03','00003');
Query OK, 1 rows affected (0.03 秒)

mysql&gt; select * from user;
+-----+------------+-------+
| uid | uname      | pword |
+-----+------------+-------+
| 1   | zutuanxue01 | 00001 |
| 2   | zutuanxue02 | 00002 |
| 3   | zutuanxue03 | 00003 |
+-----+------------+-------+
3 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="修改主键自增起始值"><a href="#修改主键自增起始值" class="header-anchor">#</a> 修改主键自增起始值</h3> <h4 id="创建表后修改"><a href="#创建表后修改" class="header-anchor">#</a> 创建表后修改</h4> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>格式：
alter table 数据库表名 auto_increment=起始值;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>案例：</strong></p> <p>修改用户表中主键自增长的起始值为100</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; alter table user auto_increment=100;
Query OK, 0 rows affected (0.05 秒)

mysql&gt; insert into user values(null,'zutuanxue04','00004');
Query OK, 1 rows affected (0.10 秒)

mysql&gt; select * from user;
+-----+------------+-------+
| uid | uname      | pword |
+-----+------------+-------+
| 1   | zutuanxue01 | 00001 |
| 2   | zutuanxue02 | 00002 |
| 3   | zutuanxue03 | 00003 |
| 100 | zutuanxue04 | 00004 |
+-----+------------+-------+
4 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="创建表时修改"><a href="#创建表时修改" class="header-anchor">#</a> 创建表时修改</h4> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>格式：
create table 数据库表名(
  字段名1 字段类型 primary key auto_increment,
  字段名2 字段类型,
  ...
  字段名n 字段类型,
)auto_increment=超始值;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>创建一个新用户表，表里面有用户名和密码，并设置起始值为100</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table new_user(
   uid int primary key auto_increment,
   uname varchar(20),
   pword varchar(20)
)auto_increment=100;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>在新用户表中插入一条件数据</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into new_user(uname,pword)values('zutuanxue01','00001');
Query OK, 1 rows affected (0.10 秒)

mysql&gt; select * from new_user;
+-----+------------+-------+
| uid | uname      | pword |
+-----+------------+-------+
| 100 | zutuanxue01 | 00001 |
+-----+------------+-------+
1 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="记录删除后对自增的影响"><a href="#记录删除后对自增的影响" class="header-anchor">#</a> 记录删除后对自增的影响</h3> <h4 id="delete"><a href="#delete" class="header-anchor">#</a> delete</h4> <p>删除记录后，对自增长字段没有影响</p> <p><strong>案例：</strong></p> <p>删除用户数据库表中的所有记录，在插入1条记录</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; delete from user;
Query OK, 4 rows affected (0.11 秒)

mysql&gt; insert into user values(null,'zhangsan','zhangsan');
Query OK, 1 rows affected (0.05 秒)

mysql&gt; select * from user;
+-----+----------+----------+
| uid | uname    | pword    |
+-----+----------+----------+
| 101 | zhangsan | zhangsan |
+-----+----------+----------+
1 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="truncate"><a href="#truncate" class="header-anchor">#</a> truncate</h4> <p>删除记录后，自增长字段重新从1开始</p> <p><strong>案例：</strong></p> <p>删除用户数据库表中的所有记录，在插入1条记录</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; truncate user;
Query OK, 0 rows affected (0.02 秒)

mysql&gt; insert into user values(null,'zhangsan','zhangsan');
Query OK, 1 rows affected (0.05 秒)

mysql&gt; select * from user;
+-----+----------+----------+
| uid | uname    | pword    |
+-----+----------+----------+
| 1   | zhangsan | zhangsan |
+-----+----------+----------+
1 行于数据集 (0.01 秒)
mysql&gt; truncate new_user;
Query OK, 0 rows affected (0.06 秒)

mysql&gt; insert into new_user values(null,'zhangsan','zhangsan');
Query OK, 1 rows affected (0.04 秒)

mysql&gt; select * from new_user;
+-----+----------+----------+
| uid | uname    | pword    |
+-----+----------+----------+
| 1   | zhangsan | zhangsan |
+-----+----------+----------+
1 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="唯一约束"><a href="#唯一约束" class="header-anchor">#</a> 唯一约束</h2> <p>唯一约束就是：设计表中的某一个字段不能出现重复的记录</p> <h3 id="唯一约束格式"><a href="#唯一约束格式" class="header-anchor">#</a> 唯一约束格式</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>字段名 字段类型 unique  #在create table 语句中设置唯一约束
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="唯一约束应用"><a href="#唯一约束应用" class="header-anchor">#</a> 唯一约束应用</h3> <h4 id="插入相同记录"><a href="#插入相同记录" class="header-anchor">#</a> 插入相同记录</h4> <p><strong>案例：</strong></p> <p>创建一个新的表t1，表里包含字段名（id,name）</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table t1(
  id int,
  name varchar(20) unique -- 姓名唯一，不能出现重复
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>往表中插入一条记录</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t1 values(1,'zhangsan');
Query OK, 1 rows affected (0.08 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>继续插入同一条件记录</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t1 values(1,'zhangsan');
Duplicate entry 'zhangsan' for key 'name'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="插入null记录"><a href="#插入null记录" class="header-anchor">#</a> 插入null记录</h4> <p>案例：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t1 values(1,null);
Query OK, 1 rows affected (0.02 秒)
mysql&gt; insert into t1 values(1,null);
Query OK, 1 rows affected (0.05 秒)
mysql&gt; select * from t1;
+------+----------+
| id   | name     |
+------+----------+
| 1    | zhangsan |
| 1    | NULL     |
| 1    | NULL     |
+------+----------+
3 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>注意：</strong></p> <p>null表示的是没有数据，所有不存在重复的问题</p> <h2 id="非空约束"><a href="#非空约束" class="header-anchor">#</a> 非空约束</h2> <p>非空约束就是：数据库表中的字段的值，不能为null</p> <h3 id="非空约束格式"><a href="#非空约束格式" class="header-anchor">#</a> 非空约束格式</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>字段名 字段类型 not null  #在create table 语句中设置字段值不能为null
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="非空约束应用"><a href="#非空约束应用" class="header-anchor">#</a> 非空约束应用</h3> <p><strong>案例：</strong></p> <p>创建一个新的表t2，表里包含字段名（id,name）</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table t2(
  id int,
  name varchar(20) not null -- 姓名的记录不能为null
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>往表中插入一条记录</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t2 values(1,'lisi');
Query OK, 1 rows affected (0.10 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>往表中插入一条姓名为null的记录</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t2 values(1, null);
Column 'name' cannot be null
mysql&gt; select * from t2;
+------+------+
| id   | name |
+------+------+
| 1    | lisi |
+------+------+
1 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>注意：</strong></p> <p>字段设置了非空与唯一约束与主键区别？</p> <p>主键数在一个表中，只能有一个。自增长只能用在主键上</p> <p>非空与唯一约束可以设置在N个字段上</p> <h2 id="默认值"><a href="#默认值" class="header-anchor">#</a> 默认值</h2> <p>默认值就是：当我们在增加记录的时候如果不去设置值，那么自动的会用默认值补齐，字段默认的默认值是null</p> <h3 id="默认值格式"><a href="#默认值格式" class="header-anchor">#</a> 默认值格式</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>字段名 字段类型 default 默认值  #在create table 语句中设置字段的默认值，不设置默认值为null
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="默认值应用"><a href="#默认值应用" class="header-anchor">#</a> 默认值应用</h3> <p><strong>案例：</strong></p> <p>创建一个新的表t3，表里包含字段名（id,name）</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table t3(
  id int,
  name varchar(20) default 'lisi' -- 增加时如果不加入姓名，姓名为‘lisi’
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>往表中插入一条记录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t3 values(1,'zhangsan');
Query OK, 1 rows affected (0.03 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>往表中插入一条id为1的记录，其他信息不用增加</p> <p><strong>方法一：</strong></p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t3(id) values(1);
Query OK, 1 rows affected (0.06 秒)

mysql&gt; select * from t3;
+------+----------+
| id   | name     |
+------+----------+
| 1    | zhangsan |
| 1    | lisi     |
+------+----------+
2 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>方法二：</strong></p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t3 values(1,default);
Query OK, 1 rows affected (0.09 秒)

mysql&gt; select * from t3;
+------+----------+
| id   | name     |
+------+----------+
| 1    | zhangsan |
| 1    | lisi     |
| 1    | lisi     |
+------+----------+
3 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="外键约束产生"><a href="#外键约束产生" class="header-anchor">#</a> 外键约束产生</h2> <h3 id="数据冗余"><a href="#数据冗余" class="header-anchor">#</a> 数据冗余</h3> <p>数据冗余是指数据之间的重复，也可以说是同一数据存储在不同数据文件中的现象。</p> <h3 id="表的数据冗余"><a href="#表的数据冗余" class="header-anchor">#</a> 表的数据冗余</h3> <p><strong>员工表</strong></p> <p><img src="https://www.zutuanxue.com:8000/static/media/images/2020/10/21/1603240575339.png" alt="image20200213223102058.png"></p> <p>除了数据冗余的问题外，假如我们的研发部搬到了北京，这这时候，我们就要去修改我们的研发部的地点，这样的修改数据的时候也会很麻烦。</p> <p><strong>问题解决</strong></p> <p>数据冗余、数据增、删、改？</p> <p><img src="https://www.zutuanxue.com:8000/static/media/images/2020/10/21/1603240588322.png" alt="image20200213224403897.png"></p> <h3 id="_7-3、为什么要使用外键约束"><a href="#_7-3、为什么要使用外键约束" class="header-anchor">#</a> 7.3、为什么要使用外键约束</h3> <p><strong>新的问题？</strong></p> <p>假如我们在员工表中增加一条记录</p> <p><img src="https://www.zutuanxue.com:8000/static/media/images/2020/10/21/1603240601021.png" alt="image20200213225528342.png"></p> <p>员工表中的记录dep_id中的3，在部门表中并没有这个id的记录。我们也将这条记录加入了进去。那么我们的员工王六就没有对应的部门了。这种情况在实际的应用中是不允许的。</p> <p><strong>实际情况：</strong></p> <p>我们员工表中的dep_id的值，只能是部门表中存在的id。</p> <p><strong>解决方法：</strong></p> <p>使用外键约束</p> <h3 id="什么是外键约束"><a href="#什么是外键约束" class="header-anchor">#</a> 什么是外键约束</h3> <p>一张表的一个字段受限于另外一张表的一个字段对应的值。这里涉及到两张表：被引用的表叫主表（父表），另外一张叫从表（子表）。</p> <p>**子表：**定义了外键的表，外键的取值要么取父表中字段对应的值，要么取NULL值，严重受限于父表</p> <p>**父表：**被引用的字段要具有唯一性（绝大多数都是用的父表的主键）</p> <p><img src="https://www.zutuanxue.com:8000/static/media/images/2020/10/21/1603240617595.png" alt="image20200213230844619.png"></p> <h2 id="外键约束"><a href="#外键约束" class="header-anchor">#</a> 外键约束</h2> <h3 id="外键约束格式"><a href="#外键约束格式" class="header-anchor">#</a> 外键约束格式</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>格式一：
[constraint][外键约束名称] foreign key(外键字段名) references 主表名称(主键字段名);  #在create table时设置 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>案例：</strong></p> <p>创建一个班级表：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table classes( -- 班级表
cid int primary key auto_increment,-- 班级ID
cname varchar(20),-- 班级名称  
crenshu int(3),-- 班级人数
cmajor varchar(10),-- 专业
cmark text -- 备注
);

mysql&gt; desc classes;
+---------+-------------+------+-----+---------+----------------+
| Field   | Type        | Null | Key | Default | Extra          |
+---------+-------------+------+-----+---------+----------------+
| cid     | int(11)     | NO   | PRI | NULL    | auto_increment |
| cname   | varchar(20) | YES  |     | NULL    |                |
| crenshu | int(3)      | YES  |     | NULL    |                |
| cmajor  | varchar(10) | YES  |     | NULL    |                |
| cmark   | text        | YES  |     | NULL    |                |
+---------+-------------+------+-----+---------+----------------+
5 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>插入班级信息:</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into classes values(null,'一班',60,'计算机','学校的王牌专业'),(null,'二班',50,'财务会计','学校最好就业专业');
Query OK, 2 rows affected (0.06 秒)
mysql&gt; select * from classes;
+-----+--------+---------+--------------+--------------------------+
| cid | cname  | crenshu | cmajor       | cmark                    |
+-----+--------+---------+--------------+--------------------------+
| 3   | 一班 | 60      | 计算机    | 学校的王牌专业    |
| 4   | 二班 | 50      | 财务会计 | 学校最好就业专业 |
+-----+--------+---------+--------------+--------------------------+
2 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>创建一个学生表（与班级表建立主外键关联）：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table stu  -- 学生表
(
sid int primary key auto_increment, -- 学生ID
sname varchar(20),-- 学生姓名
ssex varchar(2),-- 性别
stell varchar(11),-- 电话号码
sdate date ,-- 入学日期
srmark varchar(30),-- 备注
sclassid int,-- 外键对应主表中的主建  
-- 创建外键约束
constraint stu_sclassid_fk foreign key (sclassid) references classes(cid)
);

mysql&gt; desc stu;
+----------+-------------+------+-----+---------+----------------+
| Field    | Type        | Null | Key | Default | Extra          |
+----------+-------------+------+-----+---------+----------------+
| sid      | int(11)     | NO   | PRI | NULL    | auto_increment |
| sname    | varchar(20) | YES  |     | NULL    |                |
| ssex     | varchar(2)  | YES  |     | NULL    |                |
| stell    | varchar(11) | YES  |     | NULL    |                |
| sdate    | date        | YES  |     | NULL    |                |
| srmark   | varchar(30) | YES  |     | NULL    |                |
| sclassid | int(11)     | YES  | MUL | NULL    |                |
+----------+-------------+------+-----+---------+----------------+
7 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>注意：</strong></p> <p>PRI主键约束； UNI唯一约束； MUL可以重复。</p> <p>插入学生信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into stu values(null,'张三','男','13111111111','2019-09-01','学习成绩不错',3);
Query OK, 1 rows affected (0.03 秒)

mysql&gt; insert into stu values(null,'李四','男','13112211112','2019-09-01','学习成绩一般',1);
Cannot add or update a child row: a foreign key constraint fails (`zutuanxue`.`stu`, CONSTRAINT `stu_sclassid_fk` FOREIGN KEY (`sclassid`) REFERENCES `classes` (`cid`))

mysql&gt; select * from stu;
+-----+--------+------+-------------+------------+--------------------+----------+
| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |
+-----+--------+------+-------------+------------+--------------------+----------+
| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 3        |
+-----+--------+------+-------------+------------+--------------------+----------+
1 行于数据集 (0.02 秒)
格式二：
alter table 从表名称 add [constraint][外键约束名称] foreign key(外键字段名) references 主表名称(主键字段名);  #建好表后修改
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>案例：</p> <p>创建一个学生表：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table stu1  -- 学生表
(
sid int primary key auto_increment, -- 学生ID
sname varchar(20),-- 学生姓名
ssex varchar(2),-- 性别
stell varchar(11),-- 电话号码
sdate date ,-- 入学日期
srmark varchar(30),-- 备注
sclassid int -- 外键对应主表中的主建  
);

mysql&gt; desc stu1;
+----------+-------------+------+-----+---------+----------------+
| Field    | Type        | Null | Key | Default | Extra          |
+----------+-------------+------+-----+---------+----------------+
| sid      | int(11)     | NO   | PRI | NULL    | auto_increment |
| sname    | varchar(20) | YES  |     | NULL    |                |
| ssex     | varchar(2)  | YES  |     | NULL    |                |
| stell    | varchar(11) | YES  |     | NULL    |                |
| sdate    | date        | YES  |     | NULL    |                |
| srmark   | varchar(30) | YES  |     | NULL    |                |
| sclassid | int(11)     | YES  |     | NULL    |                |
+----------+-------------+------+-----+---------+----------------+
7 行于数据集 (0.02 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>为我们的学生表stu1加入我们的外键约束</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; alter table stu1 add constraint stu_sclassid_fk1
foreign key (sclassid) references classes(cid);
Query OK, 0 rows affected (0.05 秒)

mysql&gt; desc stu1;
+----------+-------------+------+-----+---------+----------------+
| Field    | Type        | Null | Key | Default | Extra          |
+----------+-------------+------+-----+---------+----------------+
| sid      | int(11)     | NO   | PRI | NULL    | auto_increment |
| sname    | varchar(20) | YES  |     | NULL    |                |
| ssex     | varchar(2)  | YES  |     | NULL    |                |
| stell    | varchar(11) | YES  |     | NULL    |                |
| sdate    | date        | YES  |     | NULL    |                |
| srmark   | varchar(30) | YES  |     | NULL    |                |
| sclassid | int(11)     | YES  | MUL | NULL    |                |
+----------+-------------+------+-----+---------+----------------+
7 行于数据集 (0.02 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>插入学生信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into stu1 values(null,'张三','男','13111111111','2019-09-01','学习成绩不错',3);
Query OK, 1 rows affected (0.07 秒)

mysql&gt; insert into stu1 values(null,'李四','男','13112211112','2019-09-01','学习成绩一般',1);
Cannot add or update a child row: a foreign key constraint fails (`zutuanxue`.`stu1`, CONSTRAINT `stu_sclassid_fk1` FOREIGN KEY (`sclassid`) REFERENCES `classes` (`cid`))

mysql&gt; select * from stu1;
+-----+--------+------+-------------+------------+--------------------+----------+
| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |
+-----+--------+------+-------------+------------+--------------------+----------+
| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 3        |
+-----+--------+------+-------------+------------+--------------------+----------+
1 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="删除外键约束"><a href="#删除外键约束" class="header-anchor">#</a> 删除外键约束</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>格式：
alter table 从表 drop foreign key 外键约束名称;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>案例：</strong></p> <p>删除stu1中的外表关联</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; alter table stu1 drop foreign key stu_sclassid_fk1;
Query OK, 0 rows affected (0.05 秒)

mysql&gt; desc stu1;
+----------+-------------+------+-----+---------+----------------+
| Field    | Type        | Null | Key | Default | Extra          |
+----------+-------------+------+-----+---------+----------------+
| sid      | int(11)     | NO   | PRI | NULL    | auto_increment |
| sname    | varchar(20) | YES  |     | NULL    |                |
| ssex     | varchar(2)  | YES  |     | NULL    |                |
| stell    | varchar(11) | YES  |     | NULL    |                |
| sdate    | date        | YES  |     | NULL    |                |
| srmark   | varchar(30) | YES  |     | NULL    |                |
| sclassid | int(11)     | YES  | MUL | NULL    |                |
+----------+-------------+------+-----+---------+----------------+
7 行于数据集 (0.02 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>插入数据</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into stu1 values(null,'李四','男','13112211112','2019-09-01','学习成绩一般',1);
Query OK, 1 rows affected (0.04 秒)

mysql&gt; select * from stu1;
+-----+--------+------+-------------+------------+--------------------+----------+
| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |
+-----+--------+------+-------------+------------+--------------------+----------+
| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 3        |
| 3   | 李四 | 男  | 13112211112 | 2019-09-01 | 学习成绩一般 | 1        |
+-----+--------+------+-------------+------------+--------------------+----------+
2 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="级联操作"><a href="#级联操作" class="header-anchor">#</a> 级联操作</h2> <h3 id="为什么要级联"><a href="#为什么要级联" class="header-anchor">#</a> 为什么要级联</h3> <p>当我们的主表班级表中的cid发生变化时，我们应该如何去改变我们的从表学生表中的sclassid？这个时候我们就需要级联。</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; delete from classes;
Cannot delete or update a parent row: a foreign key constraint fails (`zutuanxue`.`stu`, CONSTRAINT `stu_sclassid_fk` FOREIGN KEY (`sclassid`) REFERENCES `classes` (`cid`))
mysql&gt; delete from classes where cid=3;
Cannot delete or update a parent row: a foreign key constraint fails (`zutuanxue`.`stu`, CONSTRAINT `stu_sclassid_fk` FOREIGN KEY (`sclassid`) REFERENCES `classes` (`cid`))
mysql&gt; update classes set cid=1 where cid=3;
Cannot delete or update a parent row: a foreign key constraint fails (`zutuanxue`.`stu`, CONSTRAINT `stu_sclassid_fk` FOREIGN KEY (`sclassid`) REFERENCES `classes` (`cid`))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="级联是什么"><a href="#级联是什么" class="header-anchor">#</a> 级联是什么</h3> <p>在修改和删除主表的主键时，同时更新或删除副表的外键值，称为级联操作。</p> <p>级联操作分为二种：级联更新、级联删除</p> <h3 id="级联操作方式"><a href="#级联操作方式" class="header-anchor">#</a> 级联操作方式</h3> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>格式：
on update cascade #级联更新
on delete cascade #级联操作
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>只能是创建表的时候创建级联关系。更新主表中的主键，从表中的外键列也自动同步更新</p> <p><strong>案例：</strong></p> <p>创建一个学生表（与班级表建立主外键关联，并加入级联操作）</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table stu  -- 学生表
(
sid int primary key auto_increment, -- 学生ID
sname varchar(20),-- 学生姓名
ssex varchar(2),-- 性别
stell varchar(11),-- 电话号码
sdate date ,-- 入学日期
srmark varchar(30),-- 备注
sclassid int,-- 外键对应主表中的主建  
-- 创建外键约束
constraint stu_sclassid_fk foreign key (sclassid) references classes(cid) on update cascade on delete cascade
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>在学生表中插入数据</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into stu values(null,'张三','男','13111111111','2019-09-01','学习成绩不错',3);
Query OK, 1 rows affected (0.11 秒)

mysql&gt; insert into stu values(null,'李四','男','13112211112','2019-09-01','学习成绩一般',4);
Query OK, 1 rows affected (0.08 秒)

mysql&gt; select * from stu;
+-----+--------+------+-------------+------------+--------------------+----------+
| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |
+-----+--------+------+-------------+------------+--------------------+----------+
| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 3        |
| 2   | 李四 | 男  | 13112211112 | 2019-09-01 | 学习成绩一般 | 4        |
+-----+--------+------+-------------+------------+--------------------+----------+
2 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>修改我们班级表中的主键</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from classes;
+-----+--------+---------+--------------+--------------------------+
| cid | cname  | crenshu | cmajor       | cmark                    |
+-----+--------+---------+--------------+--------------------------+
| 3   | 一班 | 60      | 计算机    | 学校的王牌专业    |
| 4   | 二班 | 50      | 财务会计 | 学校最好就业专业 |
+-----+--------+---------+--------------+--------------------------+
2 行于数据集 (0.01 秒)

mysql&gt; update classes set cid=1 where cid=3;
Query OK, 1 rows affected (0.06 秒)

mysql&gt; select * from classes;
+-----+--------+---------+--------------+--------------------------+
| cid | cname  | crenshu | cmajor       | cmark                    |
+-----+--------+---------+--------------+--------------------------+
| 1   | 一班 | 60      | 计算机    | 学校的王牌专业    |
| 4   | 二班 | 50      | 财务会计 | 学校最好就业专业 |
+-----+--------+---------+--------------+--------------------------+
2 行于数据集 (0.01 秒)

mysql&gt; select * from stu;
+-----+--------+------+-------------+------------+--------------------+----------+
| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |
+-----+--------+------+-------------+------------+--------------------+----------+
| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 1        |
| 2   | 李四 | 男  | 13112211112 | 2019-09-01 | 学习成绩一般 | 4        |
+-----+--------+------+-------------+------------+--------------------+----------+
2 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>删除我们班级表中的主键</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; delete from classes where cid=4;
Query OK, 1 rows affected (0.01 秒)

mysql&gt; select * from classes;
+-----+--------+---------+-----------+-----------------------+
| cid | cname  | crenshu | cmajor    | cmark                 |
+-----+--------+---------+-----------+-----------------------+
| 1   | 一班 | 60      | 计算机 | 学校的王牌专业 |
+-----+--------+---------+-----------+-----------------------+
1 行于数据集 (0.01 秒)

mysql&gt; select * from stu;
+-----+--------+------+-------------+------------+--------------------+----------+
| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |
+-----+--------+------+-------------+------------+--------------------+----------+
| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 1        |
+-----+--------+------+-------------+------------+--------------------+----------+
1 行于数据集 (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="检查约束"><a href="#检查约束" class="header-anchor">#</a> 检查约束</h2> <h3 id="什么是检查约束"><a href="#什么是检查约束" class="header-anchor">#</a> 什么是检查约束</h3> <p>检查约束指定某列中的值必须满足布尔表达式，根据用户自己的需求来进行限制。</p> <h3 id="检查约束使用"><a href="#检查约束使用" class="header-anchor">#</a> 检查约束使用</h3> <h4 id="行级添加"><a href="#行级添加" class="header-anchor">#</a> 行级添加</h4> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>格式：
create table 表名
(
  check (字段名1 != 字段名1),
  字段名1 字段类型 check (表达式),
  字段名2 字段类型 constraint 唯一约束名 check (表达式) [not enforced]
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>注意：</strong></p> <p>表达式中可以包含该字段名: 字段名 &gt; 0
表达式注意事项
1.允许使用文字，内置函数和运算符
2.不允许在使用了auto_increment的列上使用
3.不允许存储函数和用户定义的函数
4.不允许子查询等
如果省略或指定为enforced，则创建并强制执行约束。
如果指定为not enforced，则创建约束但不强制执行。</p> <p><strong>案例：</strong></p> <p>创建一个表t4</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table t4
(
  id int primary key auto_increment,
  username varchar(32),
  phone varchar(11) check(length(phone) =11)
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>插入数据</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t4 values(null,'zhangsan','13812221222');
Query OK, 1 rows affected (0.01 秒)

mysql&gt; insert into t4 values(null,'zhangsan','1381222125');
Check constraint 't4_chk_1' is violated.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="表级添加"><a href="#表级添加" class="header-anchor">#</a> 表级添加</h4> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>格式：
create table 表名
(
  字段名1 字段类型,
  字段名2 字段类型,
  [constraint 检查约束名] check(布尔表达式) [ not enforced]
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>案例：</strong></p> <p>创建一个表t5</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table t5
(
  id int primary key auto_increment,
  username varchar(32),
  phone varchar(11),
  constraint t5_check_phone check(length(phone) =11)
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>插入数据</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t5 values(null,'zhangsan','13812222222');
Query OK, 1 rows affected (0.01 秒)

mysql&gt; insert into t5 values(null,'zhangsan','1381222222');
Check constraint 't4_check_phone' is violated.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="表后添加"><a href="#表后添加" class="header-anchor">#</a> 表后添加</h4> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>格式：
alter table 数据库表名 add constraint 检查约束名 check(检查约束);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>案例：</p> <p>创建一个表t6</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table t6
(
  id int primary key auto_increment,
  username varchar(32),
  phone varchar(11)
);

mysql&gt; alter table t6 add constraint t6_check_phone check(length(phone)=11);
Query OK, 0 rows affected (0.09 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>插入数据</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t6 values(null,'zhangsan','13812221222');
Query OK, 1 rows affected (0.01 秒)

mysql&gt; insert into t6 values(null,'zhangsan','1381222125');
Check constraint 't6_check_phone' is violated.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="约束删除"><a href="#约束删除" class="header-anchor">#</a> 约束删除</h4> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>格式：
alter table 数据库表名 drop check 检查约束名;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>案例：</p> <p>删除t6表中的检查约束t6_check_phone</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; alter table t6 drop check t6_check_phone;
Query OK, 0 rows affected (0.02 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>插入数据</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; insert into t6 values(null,'zhangsan','1381222125');
Query OK, 1 rows affected (0.01 秒)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/Howietron/Howietron.github.io/edit/main/docs/运维笔记/01.MySQL数据库实战/12.MySQL约束.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/11/27, 17:38:55</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/5c4cee/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">DQL-模糊查询</div></a> <a href="/pages/e83ed2/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">表与表之间关系</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/5c4cee/" class="prev">DQL-模糊查询</a></span> <span class="next"><a href="/pages/e83ed2/">表与表之间关系</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/4abdf8/"><div>
            git配置github与gitlab推送时指定不同用户与邮箱
            <!----></div></a> <span class="date">11-27</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/90ed1f/"><div>
            git更改前一次commit内容并提交到master
            <!----></div></a> <span class="date">11-27</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/cc3cdc/"><div>
            使用curl批量在分组内创建项目
            <!----></div></a> <span class="date">11-27</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:613872296@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Howietron" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2023
    <span><a href="https://wiki.howie.top" target="_blank">Howietron</a> | <a href="https://beian.miit.gov.cn/#/" target="_blank">鲁ICP备18012116号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div><div></div></div></div>
    <script src="/assets/js/app.efec1394.js" defer></script><script src="/assets/js/2.baa55158.js" defer></script><script src="/assets/js/281.1066dd22.js" defer></script><script src="/assets/js/3.5eea9231.js" defer></script><script src="/assets/js/4.767d79cf.js" defer></script>
  </body>
</html>
