(window.webpackJsonp=window.webpackJsonp||[]).push([[289],{621:function(s,a,n){"use strict";n.r(a);var e=n(2),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"数据库设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库设计"}},[s._v("#")]),s._v(" 数据库设计")]),s._v(" "),a("p",[s._v("数据库设计(Database Design)是指对于一个给定的应用环境，构造最优的数据库模式，建立数据库及其应用系统，使之能够有效地存储数据，满足各种用户的应用需求（信息要求和处理要求）。在数据库领域内，常常把使用数据库的各类系统统称为数据库应用系统。\n数据库设计的设计内容包括：需求分析、概念结构设计、逻辑结构设计、物理结构设计、数据库的实施和数据库的运行和维护。")]),s._v(" "),a("h2",{attrs:{id:"一、范式概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、范式概述"}},[s._v("#")]),s._v(" 一、范式概述")]),s._v(" "),a("h3",{attrs:{id:"_1-1、什么是范式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1、什么是范式"}},[s._v("#")]),s._v(" 1.1、什么是范式")]),s._v(" "),a("p",[s._v("好的数据库设计对数据的存储性能和后期的程序开发，都会产生重要的影响。建立科学的，规范的数据库就需要满足一些规则来优化数据的设计和存储，这些规则就称为范式。")]),s._v(" "),a("h3",{attrs:{id:"_1-2、范式分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2、范式分类"}},[s._v("#")]),s._v(" 1.2、范式分类")]),s._v(" "),a("p",[s._v("目前关系数据库有六种范式：")]),s._v(" "),a("p",[s._v("第一范式（1NF）")]),s._v(" "),a("p",[s._v("第二范式（2NF）")]),s._v(" "),a("p",[s._v("第三范式（3NF）")]),s._v(" "),a("p",[s._v("巴斯-科德范式（BCNF）、")]),s._v(" "),a("p",[s._v("第四范式(4NF）")]),s._v(" "),a("p",[s._v("第五范式（5NF，又称完美范式）")]),s._v(" "),a("p",[s._v("一般说来，数据库只需满足第三范式(3NF）就行了。")]),s._v(" "),a("h2",{attrs:{id:"二、第一范式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、第一范式"}},[s._v("#")]),s._v(" 二、第一范式")]),s._v(" "),a("p",[s._v("确保每个字段不可再分。确保每列原子性。")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("班级表中的字段")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("+---------+----------+------------------------+\n| 班级id  | 班级名称   |         上课时间        |\n+---------+----------+------------------------+\n| 1       |    一班   | 1999-09-01~2000-01-04  |\n+---------+----------+-------------------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("不合理。不满足第一范式，上课时间可以再分")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("+---------+----------+------------------------+\n| 班级id   | 班级名称   |   开课时间  |  结课时间  |\n+---------+----------+------------------------+\n| 1       |    一班   | 1999-09-01 | 2000-01-04|\n+---------+----------+-------------------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("strong",[s._v("地址包含省、市、县、地区是否需要拆分？")]),s._v("\n如果仅仅起地址的作用，不需要统计，可以不拆分；如果有按地区统计的功能需要拆分。一般情况下拆分")]),s._v(" "),a("h2",{attrs:{id:"三、第二范式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、第二范式"}},[s._v("#")]),s._v(" 三、第二范式")]),s._v(" "),a("p",[s._v("一个表只能描述一件事。")]),s._v(" "),a("p",[s._v("订单表中的字段")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("+---------+----------+------------------------+\n| 订单编号 | 产品编号   |   订购日期  |    价格    |\n+---------+----------+------------------------+\n| 00001   | A00001   | 1999-09-01 |   35687.0 |\n+---------+----------+------------------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("不合理。不满足第二范式，一个表中出现了二种描述，一个是订单，一个是产品")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("订单表\n+---------+------------+\n| 订单编号 |   订购日期  |\n+---------+------------+\n| 00001   | 1999-09-01 | \n+---------+------------+\n产品表\n+----------+------------+\n| 产品编号   |   价格     |\n+----------+------------+\n| A00001   | 35687.0    |\n+----------+------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[a("strong",[s._v("如下表设计是否合理？")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("+------+--------+--------+---------+----------+\n| 学号  | 姓名   |   年龄  | 最高气温 |  青菜价格  | \n+------+--------+--------+---------+----------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"四、第三范式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、第三范式"}},[s._v("#")]),s._v(" 四、第三范式")]),s._v(" "),a("p",[s._v("在所有的非键字段中，不能有传递依赖。消除传递依赖")]),s._v(" "),a("p",[s._v("订单表中的字段")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("+---------+----------+------------------------+\n| 订单编号 | 订购日期   |   顾客编号  |   顾客姓名 |\n+---------+----------+------------------------+\n| 00001   |1999-09-01|   A000001  |    Luc    |\n+---------+----------+------------------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("不合理。不满足第三范式，因为我们已经可以通过顾客编号知道顾客姓名，所以我们不需要定义顾客姓名")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("+---------+----------+------------+\n| 订单编号 | 订购日期   |   顾客编号  | \n+---------+----------+------------+\n| 00001   |1999-09-01|   A000001  | \n+---------+----------+------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("下列设计是否满足第三范式？")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("+------+--------+--------+---------+----------+\n| 学号  | 姓名   |   语文  |   数学   |  总分    | \n+------+--------+--------+---------+----------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("不满足，因为语文和数学确定了，总分就确定了。\n上面的设计不满足第三范式，但是高考分数表就是这样设计的，为什么？\n高考分数峰值访问量非常大，这时候就是性能更重要。当性能和规范化冲突的时候，我们首选性能。这就是“反三范式”。")])])}),[],!1,null,null,null);a.default=t.exports}}]);