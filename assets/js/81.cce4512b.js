(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{416:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"rhcsa学习笔记"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rhcsa学习笔记"}},[s._v("#")]),s._v(" RHCSA学习笔记")]),s._v(" "),a("img",{attrs:{src:"https://oss.howie.top/img/2023/09/1220230912141406.png",alt:"img"}}),s._v(" "),a("h2",{attrs:{id:"mars上执行以下任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mars上执行以下任务"}},[s._v("#")]),s._v(" "),a("strong",[s._v("mars上执行以下任务")])]),s._v(" "),a("h3",{attrs:{id:"配置网络-配置完后重启服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置网络-配置完后重启服务器"}},[s._v("#")]),s._v(" 配置网络  配置完后重启服务器")]),s._v(" "),a("p",[s._v("配置host")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim /etc/hostname    # mars.domain250.example.com\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("配置网卡")]),s._v(" "),a("p",[s._v("方式1")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("nmtui    # 打开图形界面配置配置ip\nreboot   # 配置完后重启服务器\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"配置yum仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置yum仓库"}},[s._v("#")]),s._v(" 配置yum仓库")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cd /etc/yum.repo.d\nvim recsa.d\n\n#固定格式\n[]\nname=\nbaseurl=\nenabled=0\ngpgcheck=1\n\n[BaseOS]\nname=BaseOS\nbaseurl=http://content/rhel8.0/x86_64/dvd/BaseOS\nenabled=0\ngpgcheck=1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h3",{attrs:{id:"调试-selinux-模拟环境不能用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调试-selinux-模拟环境不能用"}},[s._v("#")]),s._v(" "),a("strong",[s._v("调试 SELinux")]),s._v("(模拟环境不能用)")]),s._v(" "),a("p",[s._v("==模拟环境判分时没分==")]),s._v(" "),a("p",[s._v("1.列举所有跟http服务相关的端口号")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("semanage port -l | grep http   \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("img",{attrs:{src:"https://oss.howie.top/img/2023/09/1220230912141416.png",alt:"image-20230728122859439"}}),s._v(" "),a("p",[s._v("2.添加82端口号到服务http_port_t")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("semanage port -a -t http_port_t -p tcp 82  # \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("3.重启服务,并将服务添加到启动项")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("systemctl restart httpd\nsystemctl enable httpd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"创建用户账号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建用户账号"}},[s._v("#")]),s._v(" 创建用户账号")]),s._v(" "),a("p",[s._v("第五章节内容")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# groupadd sysmgrs\n[root@mars ~]# useradd -G sysmgrs natasha\n[root@mars ~]# useradd -G sysmgrs harry\n[root@mars ~]# useradd -s /bin/false sarah\n[root@mars ~]# passwd natasha\n[root@mars ~]# passwd harry\n[root@mars ~]# passwd sarah\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("密码：flectrag")]),s._v(" "),a("h3",{attrs:{id:"创建cron定时任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建cron定时任务"}},[s._v("#")]),s._v(" 创建cron定时任务")]),s._v(" "),a("p",[s._v("配置 cron 作业，该作业每隔 2 分钟运行并执行以下命令：")]),s._v(" "),a("p",[s._v('logger "EX200 in progress"，以用户 natasha 身份运行')]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@mars ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# crontab -e -u natasha ")]),s._v("\n*/2 * * * * logger "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EX200 in progress"')]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分、时、日、月、星期 命令")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"创建协作目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建协作目录"}},[s._v("#")]),s._v(" 创建协作目录")]),s._v(" "),a("p",[s._v("创建具有以下特征的协作目录 /home/managers ：")]),s._v(" "),a("p",[s._v("/home/managers 的组用权是 sysmgrs")]),s._v(" "),a("p",[s._v("目录应当可被 sysmgrs 的成员读取、写入和访问，但任何其他用户不具这些权限。（当然，root 用户有权访问系统上的所有文件和目录）")]),s._v(" "),a("p",[s._v("/home/managers 中创建的文件自动将组所有权设置到 sysmgrs 组")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# mkdir /home/managers\n[root@mars ~]# chown -R root:sysmgrs /home/managers\n[root@mars ~]# chmod -R 2770 /home/managers\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"配置-ntp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-ntp"}},[s._v("#")]),s._v(" "),a("strong",[s._v("配置 NTP")])]),s._v(" "),a("p",[s._v("配置您的系统，使其成为 materials.example.com 的 NTP 客户端。（注：materials.example.com 是 classroom.example.com 的 DNS 别名）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# vim /etc/chrony.conf\n#将第7行，修改为：\nserver materials.example.com iburst\n[root@mars ~]# systemctl restart chronyd\n[root@mars ~]# systemctl enable chronyd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"配置-autofs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-autofs"}},[s._v("#")]),s._v(" 配置 autofs")]),s._v(" "),a("p",[s._v("==autofs12章节有讲==")]),s._v(" "),a("p",[s._v("配置 autofs ，以按照如下所述自动挂载远程用户的主目录：")]),s._v(" "),a("p",[s._v("materials.example.com ( 172.25.254.254 ) NFS 导出 /rhome 到您的系统。此文件系统包含为用户 remoteuser1 预配置的主目录")]),s._v(" "),a("p",[s._v("remoteuser1 的主目录是 materials.example.com:/rhome/remoteuser1")]),s._v(" "),a("p",[s._v("remoteuser1 的主目录应自动挂载到本地 /rhome 下的 /rhome/remoteuser1")]),s._v(" "),a("p",[s._v("主目录必须可供其用户写入")]),s._v(" "),a("p",[s._v("remoteuser1 的密码是 flectrag")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# yum install autofs\n[root@mars ~]# vim /etc/auto.master\n#添加一行\n/rhome /etc/rhcsa.misc\n[root@mars ~]# vim /etc/rhcsa.misc\n#添加一行\nremoteuser1 -fstype=nfs,rw materials.example.com:/rhome/remoteuser1\n[root@mars ~]# systemctl restart autofs\n[root@mars ~]# systemctl enable autofs\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"配置-var-tmp-fstab-权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-var-tmp-fstab-权限"}},[s._v("#")]),s._v(" 配置 /var/tmp/fstab 权限")]),s._v(" "),a("p",[s._v("将文件 /etc/fstab 复制到 /var/tmp/fstab 。配置 /var/tmp/fstab 的权限以满足如下条件：")]),s._v(" "),a("p",[s._v("文件 /var/tmp/fstab 自 root 用户所有")]),s._v(" "),a("p",[s._v("文件 /var/tmp/fstab 属于组 root")]),s._v(" "),a("p",[s._v("文件 /var/tmp/fstab 应不能被任何人执行")]),s._v(" "),a("p",[s._v("用户 natasha 能够读取和写入 /var/tmp/fstab")]),s._v(" "),a("p",[s._v("用户 harry 无法写入或读取 /var/tmp/fstab")]),s._v(" "),a("p",[s._v("所有其他用户（当前或未来）能够读取 /var/tmp/fstab")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# cp /etc/fstab /var/tmp/fstab\n[root@mars ~]# setfacl -m u:natasha:rw /var/tmp/fstab\n[root@mars ~]# setfacl -m u:harry:- /var/tmp/fstab\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"配置用户帐户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置用户帐户"}},[s._v("#")]),s._v(" "),a("strong",[s._v("配置用户帐户")])]),s._v(" "),a("p",[s._v("配置用户 manalo ，其用户 ID 为 3533。此用户的密码应当为 flectrag。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# useradd -u 3533 manalo\n[root@mars ~]# passwd manalo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"查找文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查找文件"}},[s._v("#")]),s._v(" 查找文件")]),s._v(" "),a("p",[s._v("查找当 jacques 所有的所有文件并将其副本放入 /root/findfiles 目录")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# mkdir /root/findfiles\n[root@mars ~]# find / -user jacques -exec cp -a {} /root/findfiles \\;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"查找字符串"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查找字符串"}},[s._v("#")]),s._v(" "),a("strong",[s._v("查找字符串")])]),s._v(" "),a("p",[s._v("查找文件 /usr/share/xml/iso-codes/iso_639_3.xml 中包含字符串 ng 的所有行。将所有这些行的副本按原始顺序放在文件 /root/list 中。 /root/list 不得包含空行，且所有行必须是 /usr/share/xml/iso-codes/iso_639_3.xml 中原始行的确切副本。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# grep ng /usr/share/xml/iso-codes/iso_639_3.xml > /root/list\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"创建存档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建存档"}},[s._v("#")]),s._v(" "),a("strong",[s._v("创建存档")])]),s._v(" "),a("p",[s._v("创建一个名为 /root/backup.tar.gz 的 tar 存档，其应包含 /usr/local 的 tar 存档，其应包含 /usr/local 的内容。该 tar 存档必须使用 gzip 进行压缩。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 考试时，可能会考bz2格式压缩需要将参数z改成j，vf是必加的，c是压缩x是解压，z是gz其他全是j\n[root@mars ~]# tar czvf /root/backup.tar.gz /usr/local\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"随机考题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#随机考题"}},[s._v("#")]),s._v(" "),a("strong",[s._v("随机考题")])]),s._v(" "),a("h3",{attrs:{id:"配置-cron-作业a-二选一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-cron-作业a-二选一"}},[s._v("#")]),s._v(" "),a("strong",[s._v("配置 cron 作业A（二选一）")])]),s._v(" "),a("blockquote",[a("p",[s._v("配置 cron 作业，该作业每隔 2 分钟运行并执行以下命令：")]),s._v(" "),a("p",[s._v('logger "EX200 in progress"，以用户 natasha 身份运行')])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('[root@mars ~]# crontab -e -u natasha \n*/2 * * * * logger "EX200 in progress"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"配置-cron-作业b-二选一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-cron-作业b-二选一"}},[s._v("#")]),s._v(" "),a("strong",[s._v("配置 cron 作业B（二选一）")])]),s._v(" "),a("blockquote",[a("p",[s._v("配置 cron 作业， 每天14：23 分执行任务：")]),s._v(" "),a("p",[s._v('logger "EX200 in progress"，以用户 natasha 身份运行')])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('[root@mars ~]# crontab -e -u natasha \n23 14 * * * logger "EX200 in progress"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"登录后显示信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录后显示信息"}},[s._v("#")]),s._v(" "),a("strong",[s._v("登录后显示信息")])]),s._v(" "),a("blockquote",[a("p",[s._v("登录到普通用户后提示一句欢迎语'hello world !'")])]),s._v(" "),a("p",[s._v("要求登录后提示欢迎语：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('[root@mars ~]# echo "hello world !" >> /etc/motd\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"添加sudo免密操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加sudo免密操作"}},[s._v("#")]),s._v(" "),a("strong",[s._v("添加sudo免密操作")])]),s._v(" "),a("blockquote",[a("p",[s._v("允许sysmgrs组成员sudo时不需要密码")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# visudo\n#\n#在大约100行的位置添加下面内容：\n#\n%sysmgrs ALL=(ALL) NOPASSWD: ALL\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"配置创建新用户的密码策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置创建新用户的密码策略"}},[s._v("#")]),s._v(" "),a("strong",[s._v("配置创建新用户的密码策略")])]),s._v(" "),a("blockquote",[a("p",[s._v("创建新用户时，默认密码策略为20天后，密码会过期。")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# vim /etc/login.defs\n#修改第25行，将参数后面的99999改成20.\nPASS_MAX_DAYS 20\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"创建shell脚本a-二选一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建shell脚本a-二选一"}},[s._v("#")]),s._v(" "),a("strong",[s._v("创建shell脚本A（二选一）")])]),s._v(" "),a("blockquote",[a("p",[s._v("创建一个名为myresearch的脚本")]),s._v(" "),a("p",[s._v("该脚本放置在/usr/local/bin下")]),s._v(" "),a("p",[s._v("该脚本用于查找/usr下所有小于10m且具有修改组ID权限的文件，将这些文件放置于/root/myfiles下")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# mkdir -p /root/myfiles\n[root@mars ~]# vim /usr/local/bin/myresearch\n#!/bin/bash\nfind /usr -type f -and -size -10M -and -perm -2000 -exec cp -a {} /root/myfiles \\;\n[root@mars ~]# chmod 755 /usr/local/bin/myresearch\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"创建shell脚本b-二选一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建shell脚本b-二选一"}},[s._v("#")]),s._v(" "),a("strong",[s._v("创建shell脚本B（二选一）")])]),s._v(" "),a("blockquote",[a("p",[s._v("在/usr/bin目录下创建一个repwis脚本，查找/usr目录下大于30k小于50k并且具有用户权限的文件，把查到的文件结果拷贝到/root/myfiles文件夹内")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@mars ~]# vim /usr/bin/repwis\n#!/bin/bash\nfind /usr -type f -size +30k -size -50k -perm -4000 -exec cp -a {} /root/myfiles \\;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"管理文件默认权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#管理文件默认权限"}},[s._v("#")]),s._v(" "),a("strong",[s._v("管理文件默认权限")])]),s._v(" "),a("blockquote",[a("p",[s._v("使系统中所有用户新创建的文件默认权限为r--------，而目录的默认权限为r-x------。")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('[root@mars ~]# vim /etc/profile\n//将第60与62行的umask修改为277\n59 if [ $UID -gt 199 ] && [ "`id -gn`" = "`id -un`" ]; then\n60 umask 277\n61 else\n62 umask 277\n63 fi\n64 \n[root@mars ~]# source /etc/profile\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"生成环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成环境变量"}},[s._v("#")]),s._v(" "),a("strong",[s._v("生成环境变量")])]),s._v(" "),a("blockquote",[a("p",[s._v('生成一个环境变量rhcsa，用户在使用这个变量时输出一句话"This is RHCSA!"')]),s._v(" "),a("p",[s._v('自定义一个命令rhce，用户在使用这个变量时输出一句话"This is RHCE!"')])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@linuxprobe ~]# vim ~/.bashrc\n#在文件的最后加上这两行代码↓ \nexport rhcsa='echo This is RHCSA!'\nalias rhce='echo \"this is rhce!\"'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"设置默认权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置默认权限"}},[s._v("#")]),s._v(" 设置默认权限")]),s._v(" "),a("blockquote",[a("p",[s._v("配置用户daffy的权限，要求如下：")]),s._v(" "),a("p",[s._v("用户daffy的所有新建文件都应具有默认权限-r--------")]),s._v(" "),a("p",[s._v("同一用户的所有新建目录都应具有默认权限dr-x------")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@linuxprobe ~]# su - daffy \n[daffy@linuxprobe ~]$ vim ~/.bash_profile\n# .bash_profile\n\n# Get the aliases and functions\nif [ -f ~/.bashrc ]; then\n\t. ~/.bashrc\nfi\numask 277\n[daffy@linuxprobe ~]$ source ~/.bash_profile \n[daffy@linuxprobe ~]$ exit\nlogout\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"在-venus-上执行以下任务。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-venus-上执行以下任务。"}},[s._v("#")]),s._v(" "),a("strong",[s._v("在 venus 上执行以下任务。")])]),s._v(" "),a("h3",{attrs:{id:"设置-root-密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置-root-密码"}},[s._v("#")]),s._v(" "),a("strong",[s._v("设置 root 密码")])]),s._v(" "),a("blockquote",[a("p",[s._v("将 venus 的 root 密码设置为 flectrag 。您需要获得系统访问权限才能进行此操作。")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("p",[s._v("在内核编辑页面，在Linux开头这行的结尾处加入rd.break console=tty0，随后同时按下键盘ctrl+x键即可进入到单用户模式（密码破解）")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.重新挂载/sysroot目录，赋予读写权限")]),s._v("\nswitch_root:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mount -o remount,rw /sysroot  ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2.将/sysroot目录作为根目录")]),s._v("\nswitch_root:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chroot /sysroot               ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3.echo “新密码”|passwd --stdin 用户名，也可以直接使用passwd重置")]),s._v("\nsh-4.4"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo flectrag | passwd --stdin root  ")]),s._v("\nsh-4.4"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# touch /.autorelabel")]),s._v("\nsh-4.4"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sync")]),s._v("\nsh-4.4"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按ctrl+d键")]),s._v("\nswitch_root:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按ctrl+d键")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"配置您的系统以使用默认存储库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置您的系统以使用默认存储库"}},[s._v("#")]),s._v(" "),a("strong",[s._v("配置您的系统以使用默认存储库")])]),s._v(" "),a("blockquote",[a("p",[s._v("YUM 存储库已可以从 http://content/rhel8.0/x86_64/dvd/BaseOS 和 http://content/rhel8.0/x86_64/dvd/AppStream 使用配置您的系统，以将这些位置用作默认存储库。")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@venus ~]# cd /etc/yum.repos.d/ \n[root@venus ~]# vim rhcsa.repo \n[BaseOS] \nname=BaseOS \nbaseurl=http://content/rhel8.0/x86_64/dvd/BaseOS \nenabled=1 \ngpgcheck=0 \n[AppStream] \nname=AppStream \nbaseurl=http://content/rhel8.0/x86_64/dvd/AppStream \nenabled=1 \ngpgcheck=0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("验证")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum list\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"调整逻辑卷大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调整逻辑卷大小"}},[s._v("#")]),s._v(" "),a("strong",[s._v("调整逻辑卷大小")])]),s._v(" "),a("blockquote",[a("p",[s._v("将逻辑卷 vo 及其文件系统的大小调整到 230 MiB。确保文件系统内容保持不变。")]),s._v(" "),a("p",[s._v("注：分区大小很少与请求的大小完全相同，因此可以接受范围为 217 MiB 到 243 MiB 的大小。")])]),s._v(" "),a("p",[s._v("解题方法：模拟环境暂时没法做,考试时只需要执行4.5行")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@venus ~]# df -h\n/dev/mapper/myvol-vo 175M 1.6M 160M 1% /reports\n#考试时大小为175M，扩展至230M即可\n[root@venus ~]# lvextend -L 230M /dev/myvol/vo\n[root@venus ~]# resize2fs /dev/myvol/vo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"添加交换分区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加交换分区"}},[s._v("#")]),s._v(" "),a("strong",[s._v("添加交换分区")])]),s._v(" "),a("blockquote",[a("p",[s._v("向您的系统添加一个额外的交换分区 756MiB 。交换分区应在系统启动时自动挂载。不要删除或以任何方式改动系统上的任何现有交换分区。")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@venus ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fdisk /dev/vdb")]),s._v("\nWelcome to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("util-linux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.32")]),s._v(".1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\nChanges will remain "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" memory only, "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" you decide to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" them.\nBe careful before using the "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" command.\nDevice does not contain a recognized partition table.\nCreated a new DOS disklabel with disk identifier 0xcad347a4.\nCommand "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": n\nPartition "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v("\np primary "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" primary, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" extended, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ne extended "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("container "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" logical partitions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nSelect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": p\nPartition number "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("-4, default "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": 敲回车即可\nFirst sector "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("-41943039, default "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": 敲回车即可\nLast sector, +sectors or +size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("K,M,G,T,P"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("-41943039, default "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("41943039")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": +756M\nCreated a new partition "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" of "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Linux'")]),s._v(" and of size "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("756")]),s._v(" MiB.\nCommand "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": w\nThe partition table has been altered.\nCalling ioctl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to re-read partition table.\nSyncing disks.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@venus ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkswap /dev/vdb1     # 建立和设置交换分区")]),s._v("\nSetting up swapspace version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", size "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("756")]),s._v(" MiB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("792719360")]),s._v(" bytes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nno label, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("UUID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("5b0302b3-2a08-45a0-ada3-7e6461e2689e\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@venus ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# swapon /dev/vdb1\t # 激活交换分区")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@venus ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/fstab")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /etc/fstab")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Created by anaconda on Tue Jul 21 05:03:40 2020")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Accessible filesystems, by reference, are maintained under '/dev/disk/'.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# After editing this file, run 'systemctl daemon-reload' to update systemd")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# units generated from this file.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n/dev/mapper/rhel-root / xfs defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("UUID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("2db66eb4-d9c1-4522-8fab-ac074cd3ea0b /boot xfs defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n/dev/mapper/rhel-swap swap swap defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n/dev/cdrom /media/cdrom iso9660 defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" \n/dev/vdb1 swap swap defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加此行")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br")])]),a("p",[s._v("验证")]),s._v(" "),a("img",{attrs:{src:"https://oss.howie.top/img/2023/09/1220230912141429.png",alt:"image-20230824190104601"}}),s._v(" "),a("h3",{attrs:{id:"创建逻辑卷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建逻辑卷"}},[s._v("#")]),s._v(" "),a("strong",[s._v("创建逻辑卷")])]),s._v(" "),a("blockquote",[a("p",[s._v("根据如下要求，创建新的逻辑卷：")]),s._v(" "),a("p",[s._v("逻辑卷取名为 qa ，属于 qagroup 卷组，大小为 60 个扩展块")]),s._v(" "),a("p",[s._v("qagroup 卷组中逻辑卷的扩展块大小应当为 16  MiB")]),s._v(" "),a("p",[s._v("使用 ext3 文件系统格式化新逻辑卷。该逻辑卷应在系统启动时自动挂载到 /mnt/qa 下")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@venus ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fdisk /dev/vdb")]),s._v("\nWelcome to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("util-linux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.32")]),s._v(".1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\nChanges will remain "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" memory only, "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" you decide to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" them.\nBe careful before using the "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" command.Command "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": n\nPartition "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v("\n   p   primary "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" primary, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" extended, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   e   extended "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("container "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" logical partitions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nSelect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": p\nPartition number "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("-4, default "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": 敲回车即可\nFirst sector "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1550336")]),s._v("-41943039, default "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1550336")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": 敲回车即可\nLast sector, +sectors or +size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("K,M,G,T,P"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1550336")]),s._v("-41943039, default "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("41943039")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": 敲回车即可\nCreated a new partition "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" of "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Linux'")]),s._v(" and of size "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.3")]),s._v(" GiB.\nCommand "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": w\nThe partition table has been altered.\nSyncing disks.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@venus ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pvcreate /dev/vdb2\t\t\t\t\t# 创建物理卷设备")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@venus ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vgcreate -s 16M qagroup /dev/vdb2   # 创建组卷设备")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@venus ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lvcreate -l 60 -n qa qagroup\t\t# 创建逻辑卷")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@venus ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkfs.ext3 /dev/qagroup/qa")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@venus ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/fstab")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /etc/fstab")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Created by anaconda on Tue Jul 21 05:03:40 2020")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Accessible filesystems, by reference, are maintained under '/dev/disk/'.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# After editing this file, run 'systemctl daemon-reload' to update systemd")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# units generated from this file.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n/dev/mapper/rhel-root / xfs defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("UUID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("2db66eb4-d9c1-4522-8fab-ac074cd3ea0b /boot xfs defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n/dev/mapper/rhel-swap swap swap defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n/dev/cdrom /media/cdrom iso9660 defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" \n/dev/vdb1 swap swap defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n/dev/qagroup/qa /mnt/qa ext3 defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@venus ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mount -a")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br")])]),a("h3",{attrs:{id:"创建-vdo-卷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建-vdo-卷"}},[s._v("#")]),s._v(" "),a("strong",[s._v("创建 VDO 卷")])]),s._v(" "),a("blockquote",[a("p",[s._v("根据如下要求，创建新的 VDO 卷：")]),s._v(" "),a("p",[s._v("使用未分区的磁盘")]),s._v(" "),a("p",[s._v("该卷的名称为 vdough")]),s._v(" "),a("p",[s._v("该卷的逻辑大小为 50G")]),s._v(" "),a("p",[s._v("该卷使用 xfs 文件系统格式化")]),s._v(" "),a("p",[s._v("该卷（在系统启动时）挂载到 /vbread 下")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@venus ~]# yum install vdo\n[root@venus ~]# man vdo | grep vdo.*create\n[root@venus ~]# vdo create --name=vdough --device=/dev/vdc --vdoLogicalSize=50G\n[root@venus ~]# mkfs.xfs /dev/mapper/vdough\n[root@venus ~]# udevadm settle\n[root@venus ~]# mkdir /vbread\n[root@venus ~]# vim /etc/fstab\n#\n# /etc/fstab\n# Created by anaconda on Tue Jul 21 05:03:40 2020\n#\n# Accessible filesystems, by reference, are maintained under '/dev/disk/'.\n# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info.\n#\n# After editing this file, run 'systemctl daemon-reload' to update systemd\n# units generated from this file.\n#\n/dev/mapper/rhel-root / xfs defaults 0 0\nUUID=2db66eb4-d9c1-4522-8fab-ac074cd3ea0b /boot xfs defaults 0 0\n/dev/mapper/rhel-swap swap swap defaults 0 0\n/dev/cdrom /media/cdrom iso9660 defaults 0 0 \n/dev/vdb1 swap swap defaults 0 0\n/dev/vdb2 /mnt/qa ext3 defaults 0 0 \n/dev/mapper/vdough /vbread xfs defaults,_netdev 0 0 \n[root@venus ~]# mount -a\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h3",{attrs:{id:"配置系统调优"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置系统调优"}},[s._v("#")]),s._v(" "),a("strong",[s._v("配置系统调优")])]),s._v(" "),a("blockquote",[a("p",[s._v("为您的系统选择建议的 tuned 配置集并将它设为默认设置。")])]),s._v(" "),a("p",[s._v("解题方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@venus ~]# tuned-adm recommend\nvirtual-guest\n[root@venus ~]# tuned-adm profile virtual-guest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"podman容器题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#podman容器题"}},[s._v("#")]),s._v(" podman容器题")]),s._v(" "),a("p",[a("strong",[s._v("配置容器使其自动启动与为容器配置持久存储（两合一）")])]),s._v(" "),a("blockquote",[a("p",[s._v("利用注册表服务器上的 rsyslog 镜像，创建一个名为 logserver 的容器 将其配置为以 systemd 服务的形式运行，且仅面向现有用户 wallah 该服务应命名为container-logserver，并应在系统重新引导后自动启动 而无需任何手动干预")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("考试前先检查node1有没有临时日志信息\n$ ssh root@node1\n# ll -d /run/log/journal\ndrwxr-sr-x. 3 root systemd-journal 60 Mar 24 17:56 /run/log/journal 没有就创建\n# mkdir /var/log/journal\n# chown root:systemd-journal /var/log/journal\n# chmod 2755 /var/log/journal\n# systemctl restart systemd-journald\n# cp /var/log/journal/*/system.journal /home/wallah/container_logfile/\n# chown -R wallah ~wallah\n# ll -Z /home/wallah/container_logfile/\n设置用户密码，知道密码可以不用\n# echo redhat|passwd --stdin wallah 设置容器永久化\n# vim /etc/systemd/journald.conf\n#Storage=auto 改为\nStorage=persistent\n# exit\n# ssh wallah@node1 登录到仓库\n$ podman login registry.lab.example.com\nadmin\nredhat321 搜索镜像\n$ podman search registry.domain250.example.com/\nINDEX NAME DESCRIPTION STARS\nOFFICIAL AUTOMATED\nexample.com registry.domain250.example.com/rhel8/rsyslog 0\n...\n$ podman run -d --name logserver -v /home/wallah/container_logfile:/var/log/journal:Z registry.domain250.example.com/rhel8/rsyslog 停掉容器\n$ podman stop logserver\n/.config/systemd/user 检查systemd的状态\n$ loginctl enable-linger\n$ loginctl show-user wallah 创建存放进程目录\n$ mkdir -p ~/.config/systemd/user/\n$ cd ~/.config/systemd/user/\n生成一个进程\n$ podman generate systemd -n logserver -f\n$ systemctl --user enable --now container-logserver\n$ systemctl --user status container-logserver 执行容器语句\n$ podman exec logserver ls /var/log/journal\nsystem.journal\nuser-1004.journal\n$ podman exec logserver logger -p authpriv.info suibian\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("h2",{attrs:{id:"判分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#判分"}},[s._v("#")]),s._v(" 判分")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("exam-grade\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);