(window.webpackJsonp=window.webpackJsonp||[]).push([[281],{613:function(s,a,n){"use strict";n.r(a);var e=n(2),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"mysql约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql约束"}},[s._v("#")]),s._v(" MySQL约束")]),s._v(" "),a("p",[s._v("约束是按照约定（特定）条件限制，管束等意思。约束的作用是添加、删除。")]),s._v(" "),a("p",[s._v("在数据库中对表中的数据进行限制，保证数据的正确性、有效性和完整性。一个表如果添加了约束，不正确的数据将无法插入到表中。约束在创建表的时候添加比较合适。")]),s._v(" "),a("h2",{attrs:{id:"约束概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#约束概述"}},[s._v("#")]),s._v(" 约束概述")]),s._v(" "),a("h3",{attrs:{id:"什么是约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是约束"}},[s._v("#")]),s._v(" 什么是约束")]),s._v(" "),a("p",[s._v("约束用于限制加入表的数据的类型。")]),s._v(" "),a("p",[s._v("可以在创建表时规定约束（通过 CREATE TABLE 语句），或者在表创建之后也可以（通过 ALTER TABLE 语句）。")]),s._v(" "),a("h3",{attrs:{id:"约束作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#约束作用"}},[s._v("#")]),s._v(" 约束作用")]),s._v(" "),a("p",[s._v("对表中的数据进行限制，保证数据的正确性、有效性和完整性。一个表如果添加了约束，不正确的数据将无法插入到表中。约束在创建表的时候添加比较合适。")]),s._v(" "),a("h3",{attrs:{id:"约束分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#约束分类"}},[s._v("#")]),s._v(" 约束分类")]),s._v(" "),a("p",[a("strong",[s._v("主键")]),s._v(" primary key")]),s._v(" "),a("p",[a("strong",[s._v("唯一")]),s._v(" unique")]),s._v(" "),a("p",[a("strong",[s._v("非空")]),s._v(" not null")]),s._v(" "),a("p",[a("strong",[s._v("默认值")]),s._v(" default")]),s._v(" "),a("p",[a("strong",[s._v("外键")]),s._v(" foreign key")]),s._v(" "),a("p",[a("strong",[s._v("检查约束")]),s._v(" check")]),s._v(" "),a("h2",{attrs:{id:"二、主键约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、主键约束"}},[s._v("#")]),s._v(" 二、主键约束")]),s._v(" "),a("h3",{attrs:{id:"主键约束格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主键约束格式"}},[s._v("#")]),s._v(" 主键约束格式")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式1：\n字段名 字段类型 primary key  #在create table 语句中设置主键\n格式2：\nalter table 数据库表名 add primary key(字段名); #在已经创建好的数据库表中增加主键\n格式3：\nalter table 数据库表名 drop primary key; #在已经创建好的数据库表中删除主键\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("p",[s._v("非空 not null")]),s._v(" "),a("p",[s._v("唯一")]),s._v(" "),a("h3",{attrs:{id:"主键约束作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主键约束作用"}},[s._v("#")]),s._v(" 主键约束作用")]),s._v(" "),a("p",[s._v("是每一条记录的唯一标识，不会重复。")]),s._v(" "),a("p",[a("strong",[s._v("如：")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.zutuanxue.com:8000/static/media/images/2020/10/21/1603240514001.png",alt:"image20200210091102251.png"}})]),s._v(" "),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("p",[s._v("通常主键，单独给每张表设计一个 id 的字段，把 id 作为主键。")]),s._v(" "),a("p",[s._v("主键是给数据库和程序使用的，不是给最终的客户使用的。所以主键有没有含义没有关系，只要不重复，非空就行。")]),s._v(" "),a("h3",{attrs:{id:"主键约束应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主键约束应用"}},[s._v("#")]),s._v(" 主键约束应用")]),s._v(" "),a("p",[s._v("创建一个老师表，里面包含了字段名（tid，tname，sex，age），将tid做为主键")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table teacher(\n   tid int primary key, -- sid为主键\n   tname varchar(20),\n   sex varchar(2),\n   age int\n);\nmysql> create table teacher(\n   tid int primary key, -- sid为主键\n   tname varchar(20),\n   sex varchar(2),\n   age int\n);\nQuery OK, 0 rows affected (0.10 秒)\n\nmysql> desc teacher;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| tid   | int(11)     | NO   | PRI | NULL    |       |\n| tname | varchar(20) | YES  |     | NULL    |       |\n| sex   | varchar(2)  | YES  |     | NULL    |       |\n| age   | int(11)     | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n4 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("p",[s._v("往老师表中插入记录")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#插入记录\nmysql> insert into teacher values(1,'李小四','男',45);\nQuery OK, 1 rows affected (0.08 秒)\n#插入相同记录\nmysql> insert into teacher values(1,'李小四','男',45);\nDuplicate entry '1' for key 'PRIMARY'\nmysql> select * from teacher;\n+-----+-----------+------+------+\n| tid | tname     | sex  | age  |\n+-----+-----------+------+------+\n| 1   | 李小四 | 男  | 45   |\n+-----+-----------+------+------+\n1 行于数据集 (0.01 秒)\n#插入一条null记录\nmysql> insert into teacher values(null,'李小四','男',45);\nColumn 'tid' cannot be null\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("去掉老师表中的主键约束")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> alter table teacher drop primary key;\nQuery OK, 1 rows affected (0.07 秒)\nmysql> desc teacher;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| tid   | int(11)     | NO   |     | NULL    |       |\n| tname | varchar(20) | YES  |     | NULL    |       |\n| sex   | varchar(2)  | YES  |     | NULL    |       |\n| age   | int(11)     | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n4 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("为老师表添加主键约束")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> alter table teacher add primary key(tid);\nQuery OK, 0 rows affected (0.25 秒)\n\nmysql> desc teacher;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| tid   | int(11)     | NO   | PRI | NULL    |       |\n| tname | varchar(20) | YES  |     | NULL    |       |\n| sex   | varchar(2)  | YES  |     | NULL    |       |\n| age   | int(11)     | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n4 行于数据集 (0.02 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h2",{attrs:{id:"三、主键自增"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、主键自增"}},[s._v("#")]),s._v(" 三、主键自增")]),s._v(" "),a("h3",{attrs:{id:"主键自增格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主键自增格式"}},[s._v("#")]),s._v(" 主键自增格式")]),s._v(" "),a("p",[s._v("在数据库表中，主键一般情况下，我们是用一个id字段来表示，如果让我们自己添加的话要做到不能重复、不能为空就比较麻烦，所以主键我们都是设置为自动增长。")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\n字段名 字段类型 primary key auto_increment\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("创建一个用户表，表里面有用户名和密码")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table user(\n   uid int primary key auto_increment,\n   uname varchar(20),\n   pword varchar(20)\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("在用户表中插入二条件数据")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into user(uname,pword)values('zutuanxue01','00001');\nQuery OK, 1 rows affected (0.06 秒)\n\nmysql> insert into user(uname,pword)values('zutuanxue02','00002');\nQuery OK, 1 rows affected (0.01 秒)\n\nmysql> select * from user;\n+-----+------------+-------+\n| uid | uname      | pword |\n+-----+------------+-------+\n| 1   | zutuanxue01 | 00001 |\n| 2   | zutuanxue02 | 00002 |\n+-----+------------+-------+\n2 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("p",[s._v("设置表字段的自增长后，他的默认起始值从1开始")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into user values(null,'zutuanxue03','00003');\nQuery OK, 1 rows affected (0.03 秒)\n\nmysql> select * from user;\n+-----+------------+-------+\n| uid | uname      | pword |\n+-----+------------+-------+\n| 1   | zutuanxue01 | 00001 |\n| 2   | zutuanxue02 | 00002 |\n| 3   | zutuanxue03 | 00003 |\n+-----+------------+-------+\n3 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"修改主键自增起始值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改主键自增起始值"}},[s._v("#")]),s._v(" 修改主键自增起始值")]),s._v(" "),a("h4",{attrs:{id:"创建表后修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建表后修改"}},[s._v("#")]),s._v(" 创建表后修改")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\nalter table 数据库表名 auto_increment=起始值;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("修改用户表中主键自增长的起始值为100")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> alter table user auto_increment=100;\nQuery OK, 0 rows affected (0.05 秒)\n\nmysql> insert into user values(null,'zutuanxue04','00004');\nQuery OK, 1 rows affected (0.10 秒)\n\nmysql> select * from user;\n+-----+------------+-------+\n| uid | uname      | pword |\n+-----+------------+-------+\n| 1   | zutuanxue01 | 00001 |\n| 2   | zutuanxue02 | 00002 |\n| 3   | zutuanxue03 | 00003 |\n| 100 | zutuanxue04 | 00004 |\n+-----+------------+-------+\n4 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h4",{attrs:{id:"创建表时修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建表时修改"}},[s._v("#")]),s._v(" 创建表时修改")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\ncreate table 数据库表名(\n  字段名1 字段类型 primary key auto_increment,\n  字段名2 字段类型,\n  ...\n  字段名n 字段类型,\n)auto_increment=超始值;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("创建一个新用户表，表里面有用户名和密码，并设置起始值为100")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table new_user(\n   uid int primary key auto_increment,\n   uname varchar(20),\n   pword varchar(20)\n)auto_increment=100;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("在新用户表中插入一条件数据")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into new_user(uname,pword)values('zutuanxue01','00001');\nQuery OK, 1 rows affected (0.10 秒)\n\nmysql> select * from new_user;\n+-----+------------+-------+\n| uid | uname      | pword |\n+-----+------------+-------+\n| 100 | zutuanxue01 | 00001 |\n+-----+------------+-------+\n1 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"记录删除后对自增的影响"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#记录删除后对自增的影响"}},[s._v("#")]),s._v(" 记录删除后对自增的影响")]),s._v(" "),a("h4",{attrs:{id:"delete"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete"}},[s._v("#")]),s._v(" delete")]),s._v(" "),a("p",[s._v("删除记录后，对自增长字段没有影响")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("删除用户数据库表中的所有记录，在插入1条记录")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> delete from user;\nQuery OK, 4 rows affected (0.11 秒)\n\nmysql> insert into user values(null,'zhangsan','zhangsan');\nQuery OK, 1 rows affected (0.05 秒)\n\nmysql> select * from user;\n+-----+----------+----------+\n| uid | uname    | pword    |\n+-----+----------+----------+\n| 101 | zhangsan | zhangsan |\n+-----+----------+----------+\n1 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"truncate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#truncate"}},[s._v("#")]),s._v(" truncate")]),s._v(" "),a("p",[s._v("删除记录后，自增长字段重新从1开始")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("删除用户数据库表中的所有记录，在插入1条记录")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> truncate user;\nQuery OK, 0 rows affected (0.02 秒)\n\nmysql> insert into user values(null,'zhangsan','zhangsan');\nQuery OK, 1 rows affected (0.05 秒)\n\nmysql> select * from user;\n+-----+----------+----------+\n| uid | uname    | pword    |\n+-----+----------+----------+\n| 1   | zhangsan | zhangsan |\n+-----+----------+----------+\n1 行于数据集 (0.01 秒)\nmysql> truncate new_user;\nQuery OK, 0 rows affected (0.06 秒)\n\nmysql> insert into new_user values(null,'zhangsan','zhangsan');\nQuery OK, 1 rows affected (0.04 秒)\n\nmysql> select * from new_user;\n+-----+----------+----------+\n| uid | uname    | pword    |\n+-----+----------+----------+\n| 1   | zhangsan | zhangsan |\n+-----+----------+----------+\n1 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h2",{attrs:{id:"唯一约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#唯一约束"}},[s._v("#")]),s._v(" 唯一约束")]),s._v(" "),a("p",[s._v("唯一约束就是：设计表中的某一个字段不能出现重复的记录")]),s._v(" "),a("h3",{attrs:{id:"唯一约束格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#唯一约束格式"}},[s._v("#")]),s._v(" 唯一约束格式")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("字段名 字段类型 unique  #在create table 语句中设置唯一约束\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"唯一约束应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#唯一约束应用"}},[s._v("#")]),s._v(" 唯一约束应用")]),s._v(" "),a("h4",{attrs:{id:"插入相同记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插入相同记录"}},[s._v("#")]),s._v(" 插入相同记录")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("创建一个新的表t1，表里包含字段名（id,name）")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table t1(\n  id int,\n  name varchar(20) unique -- 姓名唯一，不能出现重复\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("往表中插入一条记录")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t1 values(1,'zhangsan');\nQuery OK, 1 rows affected (0.08 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("继续插入同一条件记录")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t1 values(1,'zhangsan');\nDuplicate entry 'zhangsan' for key 'name'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"插入null记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插入null记录"}},[s._v("#")]),s._v(" 插入null记录")]),s._v(" "),a("p",[s._v("案例：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t1 values(1,null);\nQuery OK, 1 rows affected (0.02 秒)\nmysql> insert into t1 values(1,null);\nQuery OK, 1 rows affected (0.05 秒)\nmysql> select * from t1;\n+------+----------+\n| id   | name     |\n+------+----------+\n| 1    | zhangsan |\n| 1    | NULL     |\n| 1    | NULL     |\n+------+----------+\n3 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("p",[s._v("null表示的是没有数据，所有不存在重复的问题")]),s._v(" "),a("h2",{attrs:{id:"非空约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非空约束"}},[s._v("#")]),s._v(" 非空约束")]),s._v(" "),a("p",[s._v("非空约束就是：数据库表中的字段的值，不能为null")]),s._v(" "),a("h3",{attrs:{id:"非空约束格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非空约束格式"}},[s._v("#")]),s._v(" 非空约束格式")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("字段名 字段类型 not null  #在create table 语句中设置字段值不能为null\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"非空约束应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非空约束应用"}},[s._v("#")]),s._v(" 非空约束应用")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("创建一个新的表t2，表里包含字段名（id,name）")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table t2(\n  id int,\n  name varchar(20) not null -- 姓名的记录不能为null\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("往表中插入一条记录")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t2 values(1,'lisi');\nQuery OK, 1 rows affected (0.10 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("往表中插入一条姓名为null的记录")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t2 values(1, null);\nColumn 'name' cannot be null\nmysql> select * from t2;\n+------+------+\n| id   | name |\n+------+------+\n| 1    | lisi |\n+------+------+\n1 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("p",[s._v("字段设置了非空与唯一约束与主键区别？")]),s._v(" "),a("p",[s._v("主键数在一个表中，只能有一个。自增长只能用在主键上")]),s._v(" "),a("p",[s._v("非空与唯一约束可以设置在N个字段上")]),s._v(" "),a("h2",{attrs:{id:"默认值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认值"}},[s._v("#")]),s._v(" 默认值")]),s._v(" "),a("p",[s._v("默认值就是：当我们在增加记录的时候如果不去设置值，那么自动的会用默认值补齐，字段默认的默认值是null")]),s._v(" "),a("h3",{attrs:{id:"默认值格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认值格式"}},[s._v("#")]),s._v(" 默认值格式")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("字段名 字段类型 default 默认值  #在create table 语句中设置字段的默认值，不设置默认值为null\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"默认值应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认值应用"}},[s._v("#")]),s._v(" 默认值应用")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("创建一个新的表t3，表里包含字段名（id,name）")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table t3(\n  id int,\n  name varchar(20) default 'lisi' -- 增加时如果不加入姓名，姓名为‘lisi’\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("往表中插入一条记录")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t3 values(1,'zhangsan');\nQuery OK, 1 rows affected (0.03 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("往表中插入一条id为1的记录，其他信息不用增加")]),s._v(" "),a("p",[a("strong",[s._v("方法一：")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t3(id) values(1);\nQuery OK, 1 rows affected (0.06 秒)\n\nmysql> select * from t3;\n+------+----------+\n| id   | name     |\n+------+----------+\n| 1    | zhangsan |\n| 1    | lisi     |\n+------+----------+\n2 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[a("strong",[s._v("方法二：")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t3 values(1,default);\nQuery OK, 1 rows affected (0.09 秒)\n\nmysql> select * from t3;\n+------+----------+\n| id   | name     |\n+------+----------+\n| 1    | zhangsan |\n| 1    | lisi     |\n| 1    | lisi     |\n+------+----------+\n3 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"外键约束产生"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外键约束产生"}},[s._v("#")]),s._v(" 外键约束产生")]),s._v(" "),a("h3",{attrs:{id:"数据冗余"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据冗余"}},[s._v("#")]),s._v(" 数据冗余")]),s._v(" "),a("p",[s._v("数据冗余是指数据之间的重复，也可以说是同一数据存储在不同数据文件中的现象。")]),s._v(" "),a("h3",{attrs:{id:"表的数据冗余"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表的数据冗余"}},[s._v("#")]),s._v(" 表的数据冗余")]),s._v(" "),a("p",[a("strong",[s._v("员工表")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.zutuanxue.com:8000/static/media/images/2020/10/21/1603240575339.png",alt:"image20200213223102058.png"}})]),s._v(" "),a("p",[s._v("除了数据冗余的问题外，假如我们的研发部搬到了北京，这这时候，我们就要去修改我们的研发部的地点，这样的修改数据的时候也会很麻烦。")]),s._v(" "),a("p",[a("strong",[s._v("问题解决")])]),s._v(" "),a("p",[s._v("数据冗余、数据增、删、改？")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.zutuanxue.com:8000/static/media/images/2020/10/21/1603240588322.png",alt:"image20200213224403897.png"}})]),s._v(" "),a("h3",{attrs:{id:"_7-3、为什么要使用外键约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-3、为什么要使用外键约束"}},[s._v("#")]),s._v(" 7.3、为什么要使用外键约束")]),s._v(" "),a("p",[a("strong",[s._v("新的问题？")])]),s._v(" "),a("p",[s._v("假如我们在员工表中增加一条记录")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.zutuanxue.com:8000/static/media/images/2020/10/21/1603240601021.png",alt:"image20200213225528342.png"}})]),s._v(" "),a("p",[s._v("员工表中的记录dep_id中的3，在部门表中并没有这个id的记录。我们也将这条记录加入了进去。那么我们的员工王六就没有对应的部门了。这种情况在实际的应用中是不允许的。")]),s._v(" "),a("p",[a("strong",[s._v("实际情况：")])]),s._v(" "),a("p",[s._v("我们员工表中的dep_id的值，只能是部门表中存在的id。")]),s._v(" "),a("p",[a("strong",[s._v("解决方法：")])]),s._v(" "),a("p",[s._v("使用外键约束")]),s._v(" "),a("h3",{attrs:{id:"什么是外键约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是外键约束"}},[s._v("#")]),s._v(" 什么是外键约束")]),s._v(" "),a("p",[s._v("一张表的一个字段受限于另外一张表的一个字段对应的值。这里涉及到两张表：被引用的表叫主表（父表），另外一张叫从表（子表）。")]),s._v(" "),a("p",[s._v("**子表：**定义了外键的表，外键的取值要么取父表中字段对应的值，要么取NULL值，严重受限于父表")]),s._v(" "),a("p",[s._v("**父表：**被引用的字段要具有唯一性（绝大多数都是用的父表的主键）")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.zutuanxue.com:8000/static/media/images/2020/10/21/1603240617595.png",alt:"image20200213230844619.png"}})]),s._v(" "),a("h2",{attrs:{id:"外键约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外键约束"}},[s._v("#")]),s._v(" 外键约束")]),s._v(" "),a("h3",{attrs:{id:"外键约束格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外键约束格式"}},[s._v("#")]),s._v(" 外键约束格式")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式一：\n[constraint][外键约束名称] foreign key(外键字段名) references 主表名称(主键字段名);  #在create table时设置 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("创建一个班级表：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table classes( -- 班级表\ncid int primary key auto_increment,-- 班级ID\ncname varchar(20),-- 班级名称  \ncrenshu int(3),-- 班级人数\ncmajor varchar(10),-- 专业\ncmark text -- 备注\n);\n\nmysql> desc classes;\n+---------+-------------+------+-----+---------+----------------+\n| Field   | Type        | Null | Key | Default | Extra          |\n+---------+-------------+------+-----+---------+----------------+\n| cid     | int(11)     | NO   | PRI | NULL    | auto_increment |\n| cname   | varchar(20) | YES  |     | NULL    |                |\n| crenshu | int(3)      | YES  |     | NULL    |                |\n| cmajor  | varchar(10) | YES  |     | NULL    |                |\n| cmark   | text        | YES  |     | NULL    |                |\n+---------+-------------+------+-----+---------+----------------+\n5 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("p",[s._v("插入班级信息:")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into classes values(null,'一班',60,'计算机','学校的王牌专业'),(null,'二班',50,'财务会计','学校最好就业专业');\nQuery OK, 2 rows affected (0.06 秒)\nmysql> select * from classes;\n+-----+--------+---------+--------------+--------------------------+\n| cid | cname  | crenshu | cmajor       | cmark                    |\n+-----+--------+---------+--------------+--------------------------+\n| 3   | 一班 | 60      | 计算机    | 学校的王牌专业    |\n| 4   | 二班 | 50      | 财务会计 | 学校最好就业专业 |\n+-----+--------+---------+--------------+--------------------------+\n2 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("创建一个学生表（与班级表建立主外键关联）：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table stu  -- 学生表\n(\nsid int primary key auto_increment, -- 学生ID\nsname varchar(20),-- 学生姓名\nssex varchar(2),-- 性别\nstell varchar(11),-- 电话号码\nsdate date ,-- 入学日期\nsrmark varchar(30),-- 备注\nsclassid int,-- 外键对应主表中的主建  \n-- 创建外键约束\nconstraint stu_sclassid_fk foreign key (sclassid) references classes(cid)\n);\n\nmysql> desc stu;\n+----------+-------------+------+-----+---------+----------------+\n| Field    | Type        | Null | Key | Default | Extra          |\n+----------+-------------+------+-----+---------+----------------+\n| sid      | int(11)     | NO   | PRI | NULL    | auto_increment |\n| sname    | varchar(20) | YES  |     | NULL    |                |\n| ssex     | varchar(2)  | YES  |     | NULL    |                |\n| stell    | varchar(11) | YES  |     | NULL    |                |\n| sdate    | date        | YES  |     | NULL    |                |\n| srmark   | varchar(30) | YES  |     | NULL    |                |\n| sclassid | int(11)     | YES  | MUL | NULL    |                |\n+----------+-------------+------+-----+---------+----------------+\n7 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("p",[s._v("PRI主键约束； UNI唯一约束； MUL可以重复。")]),s._v(" "),a("p",[s._v("插入学生信息：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into stu values(null,'张三','男','13111111111','2019-09-01','学习成绩不错',3);\nQuery OK, 1 rows affected (0.03 秒)\n\nmysql> insert into stu values(null,'李四','男','13112211112','2019-09-01','学习成绩一般',1);\nCannot add or update a child row: a foreign key constraint fails (`zutuanxue`.`stu`, CONSTRAINT `stu_sclassid_fk` FOREIGN KEY (`sclassid`) REFERENCES `classes` (`cid`))\n\nmysql> select * from stu;\n+-----+--------+------+-------------+------------+--------------------+----------+\n| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |\n+-----+--------+------+-------------+------------+--------------------+----------+\n| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 3        |\n+-----+--------+------+-------------+------------+--------------------+----------+\n1 行于数据集 (0.02 秒)\n格式二：\nalter table 从表名称 add [constraint][外键约束名称] foreign key(外键字段名) references 主表名称(主键字段名);  #建好表后修改\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("案例：")]),s._v(" "),a("p",[s._v("创建一个学生表：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table stu1  -- 学生表\n(\nsid int primary key auto_increment, -- 学生ID\nsname varchar(20),-- 学生姓名\nssex varchar(2),-- 性别\nstell varchar(11),-- 电话号码\nsdate date ,-- 入学日期\nsrmark varchar(30),-- 备注\nsclassid int -- 外键对应主表中的主建  \n);\n\nmysql> desc stu1;\n+----------+-------------+------+-----+---------+----------------+\n| Field    | Type        | Null | Key | Default | Extra          |\n+----------+-------------+------+-----+---------+----------------+\n| sid      | int(11)     | NO   | PRI | NULL    | auto_increment |\n| sname    | varchar(20) | YES  |     | NULL    |                |\n| ssex     | varchar(2)  | YES  |     | NULL    |                |\n| stell    | varchar(11) | YES  |     | NULL    |                |\n| sdate    | date        | YES  |     | NULL    |                |\n| srmark   | varchar(30) | YES  |     | NULL    |                |\n| sclassid | int(11)     | YES  |     | NULL    |                |\n+----------+-------------+------+-----+---------+----------------+\n7 行于数据集 (0.02 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("p",[s._v("为我们的学生表stu1加入我们的外键约束")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> alter table stu1 add constraint stu_sclassid_fk1\nforeign key (sclassid) references classes(cid);\nQuery OK, 0 rows affected (0.05 秒)\n\nmysql> desc stu1;\n+----------+-------------+------+-----+---------+----------------+\n| Field    | Type        | Null | Key | Default | Extra          |\n+----------+-------------+------+-----+---------+----------------+\n| sid      | int(11)     | NO   | PRI | NULL    | auto_increment |\n| sname    | varchar(20) | YES  |     | NULL    |                |\n| ssex     | varchar(2)  | YES  |     | NULL    |                |\n| stell    | varchar(11) | YES  |     | NULL    |                |\n| sdate    | date        | YES  |     | NULL    |                |\n| srmark   | varchar(30) | YES  |     | NULL    |                |\n| sclassid | int(11)     | YES  | MUL | NULL    |                |\n+----------+-------------+------+-----+---------+----------------+\n7 行于数据集 (0.02 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("插入学生信息：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into stu1 values(null,'张三','男','13111111111','2019-09-01','学习成绩不错',3);\nQuery OK, 1 rows affected (0.07 秒)\n\nmysql> insert into stu1 values(null,'李四','男','13112211112','2019-09-01','学习成绩一般',1);\nCannot add or update a child row: a foreign key constraint fails (`zutuanxue`.`stu1`, CONSTRAINT `stu_sclassid_fk1` FOREIGN KEY (`sclassid`) REFERENCES `classes` (`cid`))\n\nmysql> select * from stu1;\n+-----+--------+------+-------------+------------+--------------------+----------+\n| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |\n+-----+--------+------+-------------+------------+--------------------+----------+\n| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 3        |\n+-----+--------+------+-------------+------------+--------------------+----------+\n1 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"删除外键约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除外键约束"}},[s._v("#")]),s._v(" 删除外键约束")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\nalter table 从表 drop foreign key 外键约束名称;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("删除stu1中的外表关联")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> alter table stu1 drop foreign key stu_sclassid_fk1;\nQuery OK, 0 rows affected (0.05 秒)\n\nmysql> desc stu1;\n+----------+-------------+------+-----+---------+----------------+\n| Field    | Type        | Null | Key | Default | Extra          |\n+----------+-------------+------+-----+---------+----------------+\n| sid      | int(11)     | NO   | PRI | NULL    | auto_increment |\n| sname    | varchar(20) | YES  |     | NULL    |                |\n| ssex     | varchar(2)  | YES  |     | NULL    |                |\n| stell    | varchar(11) | YES  |     | NULL    |                |\n| sdate    | date        | YES  |     | NULL    |                |\n| srmark   | varchar(30) | YES  |     | NULL    |                |\n| sclassid | int(11)     | YES  | MUL | NULL    |                |\n+----------+-------------+------+-----+---------+----------------+\n7 行于数据集 (0.02 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("插入数据")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into stu1 values(null,'李四','男','13112211112','2019-09-01','学习成绩一般',1);\nQuery OK, 1 rows affected (0.04 秒)\n\nmysql> select * from stu1;\n+-----+--------+------+-------------+------------+--------------------+----------+\n| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |\n+-----+--------+------+-------------+------------+--------------------+----------+\n| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 3        |\n| 3   | 李四 | 男  | 13112211112 | 2019-09-01 | 学习成绩一般 | 1        |\n+-----+--------+------+-------------+------------+--------------------+----------+\n2 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h2",{attrs:{id:"级联操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#级联操作"}},[s._v("#")]),s._v(" 级联操作")]),s._v(" "),a("h3",{attrs:{id:"为什么要级联"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要级联"}},[s._v("#")]),s._v(" 为什么要级联")]),s._v(" "),a("p",[s._v("当我们的主表班级表中的cid发生变化时，我们应该如何去改变我们的从表学生表中的sclassid？这个时候我们就需要级联。")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> delete from classes;\nCannot delete or update a parent row: a foreign key constraint fails (`zutuanxue`.`stu`, CONSTRAINT `stu_sclassid_fk` FOREIGN KEY (`sclassid`) REFERENCES `classes` (`cid`))\nmysql> delete from classes where cid=3;\nCannot delete or update a parent row: a foreign key constraint fails (`zutuanxue`.`stu`, CONSTRAINT `stu_sclassid_fk` FOREIGN KEY (`sclassid`) REFERENCES `classes` (`cid`))\nmysql> update classes set cid=1 where cid=3;\nCannot delete or update a parent row: a foreign key constraint fails (`zutuanxue`.`stu`, CONSTRAINT `stu_sclassid_fk` FOREIGN KEY (`sclassid`) REFERENCES `classes` (`cid`))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"级联是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#级联是什么"}},[s._v("#")]),s._v(" 级联是什么")]),s._v(" "),a("p",[s._v("在修改和删除主表的主键时，同时更新或删除副表的外键值，称为级联操作。")]),s._v(" "),a("p",[s._v("级联操作分为二种：级联更新、级联删除")]),s._v(" "),a("h3",{attrs:{id:"级联操作方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#级联操作方式"}},[s._v("#")]),s._v(" 级联操作方式")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\non update cascade #级联更新\non delete cascade #级联操作\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("只能是创建表的时候创建级联关系。更新主表中的主键，从表中的外键列也自动同步更新")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("创建一个学生表（与班级表建立主外键关联，并加入级联操作）")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table stu  -- 学生表\n(\nsid int primary key auto_increment, -- 学生ID\nsname varchar(20),-- 学生姓名\nssex varchar(2),-- 性别\nstell varchar(11),-- 电话号码\nsdate date ,-- 入学日期\nsrmark varchar(30),-- 备注\nsclassid int,-- 外键对应主表中的主建  \n-- 创建外键约束\nconstraint stu_sclassid_fk foreign key (sclassid) references classes(cid) on update cascade on delete cascade\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("在学生表中插入数据")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into stu values(null,'张三','男','13111111111','2019-09-01','学习成绩不错',3);\nQuery OK, 1 rows affected (0.11 秒)\n\nmysql> insert into stu values(null,'李四','男','13112211112','2019-09-01','学习成绩一般',4);\nQuery OK, 1 rows affected (0.08 秒)\n\nmysql> select * from stu;\n+-----+--------+------+-------------+------------+--------------------+----------+\n| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |\n+-----+--------+------+-------------+------------+--------------------+----------+\n| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 3        |\n| 2   | 李四 | 男  | 13112211112 | 2019-09-01 | 学习成绩一般 | 4        |\n+-----+--------+------+-------------+------------+--------------------+----------+\n2 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[s._v("修改我们班级表中的主键")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> select * from classes;\n+-----+--------+---------+--------------+--------------------------+\n| cid | cname  | crenshu | cmajor       | cmark                    |\n+-----+--------+---------+--------------+--------------------------+\n| 3   | 一班 | 60      | 计算机    | 学校的王牌专业    |\n| 4   | 二班 | 50      | 财务会计 | 学校最好就业专业 |\n+-----+--------+---------+--------------+--------------------------+\n2 行于数据集 (0.01 秒)\n\nmysql> update classes set cid=1 where cid=3;\nQuery OK, 1 rows affected (0.06 秒)\n\nmysql> select * from classes;\n+-----+--------+---------+--------------+--------------------------+\n| cid | cname  | crenshu | cmajor       | cmark                    |\n+-----+--------+---------+--------------+--------------------------+\n| 1   | 一班 | 60      | 计算机    | 学校的王牌专业    |\n| 4   | 二班 | 50      | 财务会计 | 学校最好就业专业 |\n+-----+--------+---------+--------------+--------------------------+\n2 行于数据集 (0.01 秒)\n\nmysql> select * from stu;\n+-----+--------+------+-------------+------------+--------------------+----------+\n| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |\n+-----+--------+------+-------------+------------+--------------------+----------+\n| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 1        |\n| 2   | 李四 | 男  | 13112211112 | 2019-09-01 | 学习成绩一般 | 4        |\n+-----+--------+------+-------------+------------+--------------------+----------+\n2 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("p",[s._v("删除我们班级表中的主键")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> delete from classes where cid=4;\nQuery OK, 1 rows affected (0.01 秒)\n\nmysql> select * from classes;\n+-----+--------+---------+-----------+-----------------------+\n| cid | cname  | crenshu | cmajor    | cmark                 |\n+-----+--------+---------+-----------+-----------------------+\n| 1   | 一班 | 60      | 计算机 | 学校的王牌专业 |\n+-----+--------+---------+-----------+-----------------------+\n1 行于数据集 (0.01 秒)\n\nmysql> select * from stu;\n+-----+--------+------+-------------+------------+--------------------+----------+\n| sid | sname  | ssex | stell       | sdate      | srmark             | sclassid |\n+-----+--------+------+-------------+------------+--------------------+----------+\n| 1   | 张三 | 男  | 13111111111 | 2019-09-01 | 学习成绩不错 | 1        |\n+-----+--------+------+-------------+------------+--------------------+----------+\n1 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h2",{attrs:{id:"检查约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检查约束"}},[s._v("#")]),s._v(" 检查约束")]),s._v(" "),a("h3",{attrs:{id:"什么是检查约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是检查约束"}},[s._v("#")]),s._v(" 什么是检查约束")]),s._v(" "),a("p",[s._v("检查约束指定某列中的值必须满足布尔表达式，根据用户自己的需求来进行限制。")]),s._v(" "),a("h3",{attrs:{id:"检查约束使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检查约束使用"}},[s._v("#")]),s._v(" 检查约束使用")]),s._v(" "),a("h4",{attrs:{id:"行级添加"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#行级添加"}},[s._v("#")]),s._v(" 行级添加")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\ncreate table 表名\n(\n  check (字段名1 != 字段名1),\n  字段名1 字段类型 check (表达式),\n  字段名2 字段类型 constraint 唯一约束名 check (表达式) [not enforced]\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("p",[s._v("表达式中可以包含该字段名: 字段名 > 0\n表达式注意事项\n1.允许使用文字，内置函数和运算符\n2.不允许在使用了auto_increment的列上使用\n3.不允许存储函数和用户定义的函数\n4.不允许子查询等\n如果省略或指定为enforced，则创建并强制执行约束。\n如果指定为not enforced，则创建约束但不强制执行。")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("创建一个表t4")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table t4\n(\n  id int primary key auto_increment,\n  username varchar(32),\n  phone varchar(11) check(length(phone) =11)\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("插入数据")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t4 values(null,'zhangsan','13812221222');\nQuery OK, 1 rows affected (0.01 秒)\n\nmysql> insert into t4 values(null,'zhangsan','1381222125');\nCheck constraint 't4_chk_1' is violated.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"表级添加"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表级添加"}},[s._v("#")]),s._v(" 表级添加")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\ncreate table 表名\n(\n  字段名1 字段类型,\n  字段名2 字段类型,\n  [constraint 检查约束名] check(布尔表达式) [ not enforced]\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("创建一个表t5")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table t5\n(\n  id int primary key auto_increment,\n  username varchar(32),\n  phone varchar(11),\n  constraint t5_check_phone check(length(phone) =11)\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("插入数据")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t5 values(null,'zhangsan','13812222222');\nQuery OK, 1 rows affected (0.01 秒)\n\nmysql> insert into t5 values(null,'zhangsan','1381222222');\nCheck constraint 't4_check_phone' is violated.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"表后添加"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表后添加"}},[s._v("#")]),s._v(" 表后添加")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\nalter table 数据库表名 add constraint 检查约束名 check(检查约束);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("案例：")]),s._v(" "),a("p",[s._v("创建一个表t6")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table t6\n(\n  id int primary key auto_increment,\n  username varchar(32),\n  phone varchar(11)\n);\n\nmysql> alter table t6 add constraint t6_check_phone check(length(phone)=11);\nQuery OK, 0 rows affected (0.09 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("插入数据")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t6 values(null,'zhangsan','13812221222');\nQuery OK, 1 rows affected (0.01 秒)\n\nmysql> insert into t6 values(null,'zhangsan','1381222125');\nCheck constraint 't6_check_phone' is violated.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"约束删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#约束删除"}},[s._v("#")]),s._v(" 约束删除")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\nalter table 数据库表名 drop check 检查约束名;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("案例：")]),s._v(" "),a("p",[s._v("删除t6表中的检查约束t6_check_phone")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> alter table t6 drop check t6_check_phone;\nQuery OK, 0 rows affected (0.02 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("插入数据")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> insert into t6 values(null,'zhangsan','1381222125');\nQuery OK, 1 rows affected (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);