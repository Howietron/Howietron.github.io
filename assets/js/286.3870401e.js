(window.webpackJsonp=window.webpackJsonp||[]).push([[286],{618:function(s,a,e){"use strict";e.r(a);var n=e(2),t=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"mysql视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql视图"}},[s._v("#")]),s._v(" MySQL视图")]),s._v(" "),a("p",[s._v("视图是指计算机数据库中的视图，是一个虚拟表，其内容由查询定义。同真实的表一样，视图包含一系列带有名称的列和行数据。但是，视图并不在数据库中以存储的数据值集形式存在。行和列数据来自由定义视图的查询所引用的表，并且在引用视图时动态生成。")]),s._v(" "),a("h2",{attrs:{id:"视图概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图概述"}},[s._v("#")]),s._v(" 视图概述")]),s._v(" "),a("h3",{attrs:{id:"什么是视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是视图"}},[s._v("#")]),s._v(" 什么是视图")]),s._v(" "),a("p",[s._v("在 SQL 中，视图是基于 SQL 语句的结果集的可视化的表。")]),s._v(" "),a("p",[s._v("视图包含行和列，就像一个真实的表。视图中的字段就是来自一个或多个数据库中的真实的表中的字段。我们可以向视图添加 SQL 函数、WHERE 以及 JOIN 语句，我们也可以提交数据，就像这些来自于某个单一的表。")]),s._v(" "),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("p",[s._v("数据库的设计和结构不会受到视图中的函数、where 或 join 语句的影响。")]),s._v(" "),a("h3",{attrs:{id:"视图的作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图的作用"}},[s._v("#")]),s._v(" 视图的作用")]),s._v(" "),a("p",[s._v("重复利用SQL语句")]),s._v(" "),a("p",[s._v("简化SQL查询，快速取数据")]),s._v(" "),a("p",[s._v("只用知道表的部分结构")]),s._v(" "),a("p",[s._v("保护数据，根据特定授权")]),s._v(" "),a("p",[s._v("更改数据格式和表示，视图可返回与底层表的表示和格式不同的数据")]),s._v(" "),a("p",[a("strong",[s._v("注意：")]),s._v("\n在视图创建后，可以用与表基本相同的方式使用（查询、过滤、排序数据、与其他视图或连结、（添加、更新））。")]),s._v(" "),a("p",[s._v("视图只是用来查看存储在别处的数据的设施，本身不包含数据，返回的数据也是从其他表检索出来的。")]),s._v(" "),a("p",[s._v("因为视图本身不包含数据，索引多个表连结或嵌套可能存在性能问题，需测试。")]),s._v(" "),a("h3",{attrs:{id:"视图规则和限制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图规则和限制"}},[s._v("#")]),s._v(" 视图规则和限制")]),s._v(" "),a("p",[s._v("与表一样，命名必须是唯一的(不能出现同名视图或表名)。")]),s._v(" "),a("p",[s._v("创建视图数目无限制，但是要考虑复杂查询创建为视图之后的性能影响。")]),s._v(" "),a("p",[s._v("视图不能添加索引，也不能有关联的触发器或者默认值。")]),s._v(" "),a("p",[s._v("视图可以提高安全性，必须具有足够的访问权限。")]),s._v(" "),a("p",[s._v("order by可用在视图中，但是如果从该视图检索数据select中含有order by ，那么该视图中的order by将被覆盖。")]),s._v(" "),a("p",[s._v("视图可以和表一起使用。")]),s._v(" "),a("h3",{attrs:{id:"视图的应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图的应用"}},[s._v("#")]),s._v(" 视图的应用")]),s._v(" "),a("p",[a("strong",[s._v("权限控制时使用")])]),s._v(" "),a("p",[s._v("如某几个列，允许用户查询，其他列不允许查询")]),s._v(" "),a("p",[s._v("可以通过视图，开放其中几列查询，起到权限控制作用")]),s._v(" "),a("p",[a("strong",[s._v("简化复杂查询时使用")])]),s._v(" "),a("p",[s._v("查询每个栏目下商品的平均价格，并按平均价格排序，查询出平均价格前3的栏目")]),s._v(" "),a("p",[a("strong",[s._v("视图能不能更新，删除，添加")])]),s._v(" "),a("p",[s._v("如果视图的每一行，是与物理表一一对应的则可以")]),s._v(" "),a("p",[s._v("视图的行是由物理表多行经过计算得到的结果，视图不可以更新的")]),s._v(" "),a("h2",{attrs:{id:"视图创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图创建"}},[s._v("#")]),s._v(" 视图创建")]),s._v(" "),a("h3",{attrs:{id:"创建格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建格式"}},[s._v("#")]),s._v(" 创建格式")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\ncreate view  视图名  as  select 字段名 from 表名;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("案例：")]),s._v(" "),a("p",[s._v("创建一个视图")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> create view s_view as (select sname,sex,age from students);\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql> select * from s_view;\n+--------+------+------+\n| sname  | sex  | age  |\n+--------+------+------+\n| 张三   | 男   |   19 |\n| 李四   | 男   |   20 |\n| 张红   | 女   |   19 |\n| 张八   | 男   |   18 |\n| 三李   | 男   |   19 |\n| 王六   | 女   |   20 |\n| 刘红   | 女   |   18 |\n+--------+------+------+\n8 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"视图的运算规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图的运算规则"}},[s._v("#")]),s._v(" 视图的运算规则")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\ncreate [algorithm = {undefined | merge | temptable}] view  视图名  as  select 字段名 from 表名;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("p",[s._v("ALGORITHM ： 视图算法")]),s._v(" "),a("p",[s._v("undefined 系统自动选择算法")]),s._v(" "),a("p",[s._v("merge 当使用视图时，会把查询视图的语句和创建视图的语句合并起来，形成一条件一句，最后再从基表中查询")]),s._v(" "),a("p",[s._v("temptable 当使用视图时，会把创建视图的语句的查询结果当成一张临时表，再从临时表中进行筛选")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("用temptable创建视图")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> create algorithm=temptable view view_t as select sname,sex,english,math from students order by math,english desc;\nQuery OK, 0 rows affected (0.03 秒)\n\nmysql> select * from view_t;\n+--------+------+---------+------+\n| sname  | sex  | english | math |\n+--------+------+---------+------+\n| 王六 | 女  | 50.0    | 70.0 |\n| 张红 | 女  | 86.0    | 80.0 |\n| 张八 | 男  | 80.0    | 85.0 |\n| 张三 | 男  | 98.5    | 88.0 |\n| 李四 | 男  | 80.0    | 88.0 |\n| 三李 | 男  | 60.0    | 88.0 |\n| 刘红 | 女  | 90.0    | 98.0 |\n+--------+------+---------+------+\n8 行于数据集 (0.01 秒)\n\nmysql> select * from view_t group by sex;\n+--------+------+---------+------+\n| sname  | sex  | english | math |\n+--------+------+---------+------+\n| 王六 | 女  | 50.0    | 70.0 |\n| 张八 | 男  | 80.0    | 85.0 |\n+--------+------+---------+------+\n2 行于数据集 (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("p",[s._v("用merge创建视图")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> create algorithm=merge view view_m as select sname,sex,english,math from students order by math,english desc;\nQuery OK, 0 rows affected (0.04 秒)\n\nmysql> select * from view_m;\n+--------+------+---------+------+\n| sname  | sex  | english | math |\n+--------+------+---------+------+\n| 王六 | 女  | 50.0    | 70.0 |\n| 张红 | 女  | 86.0    | 80.0 |\n| 张八 | 男  | 80.0    | 85.0 |\n| 张三 | 男  | 98.5    | 88.0 |\n| 李四 | 男  | 80.0    | 88.0 |\n| 三李 | 男  | 60.0    | 88.0 |\n| 刘红 | 女  | 90.0    | 98.0 |\n+--------+------+---------+------+\n8 行于数据集 (0.02 秒)\n\nmysql> select * from view_m group by sex;\n+--------+------+---------+------+\n| sname  | sex  | english | math |\n+--------+------+---------+------+\n| 张三 | 男  | 98.5    | 88.0 |\n| 张红 | 女  | 86.0    | 80.0 |\n+--------+------+---------+------+\n2 行于数据集 (0.01 秒)\n#查询视图的语句和创建视图的语句合并起来，形成一条件一句，最后再从基表中查询\nmysql> select sname,sex,english,math from students group by sex order by math,english desc;\n+--------+------+---------+------+\n| sname  | sex  | english | math |\n+--------+------+---------+------+\n| 张红 | 女  | 86.0    | 80.0 |\n| 张三 | 男  | 98.5    | 88.0 |\n+--------+------+---------+------+\n2 行于数据集 (0.02 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br")])]),a("h3",{attrs:{id:"视图的权限范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图的权限范围"}},[s._v("#")]),s._v(" 视图的权限范围")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\n[with [cascaded | local ] check option] \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("WITH CHECK OPTION 表示对UPDATE、INSERT和DELETE操作时保持更新，插入或删除的行满足视图定义的条件（即子查询中的条件表达式）")]),s._v(" "),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("p",[s._v("cascaded 默认值 更新视图时要满足所有相关视图和表的条件。")]),s._v(" "),a("p",[s._v("local 表示更新视图时满足该视图本身定义的条件即可。")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> create view view_1 as select sid,sname,sex,age from students where sid<6;\nQuery OK, 0 rows affected (0.02 秒)\n\nmysql> create view view_1_1 as select * from view_1 where sid>2 with cascaded check option;\nQuery OK, 0 rows affected (0.02 秒)\n\nmysql> create view view_1_2 as select * from view_1 where sid>2 with local check option;\nQuery OK, 0 rows affected (0.02 秒)\n\nmysql> insert into view_1_1 values(6,'lisi','男',20);\nCHECK OPTION failed 'zutuanxue.view_1_1'\n\nmysql> insert into view_1_2 values(6,'lisi','男',20);\nQuery OK, 1 rows affected (0.01 秒)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"视图记录修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图记录修改"}},[s._v("#")]),s._v(" 视图记录修改")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\nupdate 数据库表名 set 字段名1=字段值1,字段名2=字段值2,...字段名n=字段值n where 条件表达式; #和表的修改一样\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("案例：")]),s._v(" "),a("p",[s._v("修改视图中王六的性别为‘男’")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> update s_view set sex='男' where sname='王六';\nQuery OK, 1 row affected (0.01 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\nmysql> select * from s_view;\n+--------+------+------+\n| sname  | sex  | age  |\n+--------+------+------+\n| 张三   | 男   |   19 |\n| 李四   | 男   |   20 |\n| 张红   | 女   |   19 |\n| 张八   | 男   |   18 |\n| 三李   | 男   |   19 |\n| 王六   | 男   |   20 |\n| 刘红   | 女   |   18 |\n+--------+------+------+\n8 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[a("strong",[s._v("注意：")])]),s._v(" "),a("p",[s._v("修改了视图，对基表数据也有影响")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> select * from students;\n+------+--------+------+------+---------+------+------------+-----------------+\n| sid  | sname  | sex  | age  | english | math | entertime  | remark          |\n+------+--------+------+------+---------+------+------------+-----------------+\n|    1 | 张三   | 男   |   19 |    98.5 | 88.0 | 2017-09-01 | 他来自四川      |\n|    2 | 李四   | 男   |   20 |    80.0 | 88.0 | 2017-09-01 | 他来自重庆      |\n|    3 | 张红   | 女   |   19 |    86.0 | 80.0 | 2017-09-01 | 他来自北京      |\n|    4 | 张八   | 男   |   18 |    80.0 | 85.0 | 2017-09-01 | 他来自天津      |\n|    5 | 三李   | 男   |   19 |    60.0 | 88.0 | 2017-09-01 | 他来自湖北      |\n|    6 | 王六   | 男   |   20 |    50.0 | 70.0 | 2017-09-01 | 他来自湖南      |\n|    7 | 刘红   | 女   |   18 |    90.0 | 98.0 | 2017-09-01 | 他来自甘肃      |\n+------+--------+------+------+---------+------+------------+-----------------+\n8 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("修改students表中王六的年龄为21")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> update students set age=21 where sname='王六';\nQuery OK, 1 row affected (0.00 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\nmysql> select * from s_view;\n+--------+------+------+\n| sname  | sex  | age  |\n+--------+------+------+\n| 张三   | 男   |   19 |\n| 李四   | 男   |   20 |\n| 张红   | 女   |   19 |\n| 张八   | 男   |   18 |\n| 三李   | 男   |   19 |\n| 王六   | 男   |   21 |\n| 刘红   | 女   |   18 |\n+--------+------+------+\n8 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h2",{attrs:{id:"视图修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图修改"}},[s._v("#")]),s._v(" 视图修改")]),s._v(" "),a("h3",{attrs:{id:"修改格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改格式"}},[s._v("#")]),s._v(" 修改格式")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\nalter view 视图名称 as select 语句;\n或\nalter view 视图名称 as select 视图;\n或\ncreate or replace view  视图名  as  select 字段名 from 表名;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"select-语句-修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#select-语句-修改"}},[s._v("#")]),s._v(" select 语句 修改")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("修改我们的s_view视图")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> alter view s_view as select sname,sex,age,remark from students;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql> select * from s_view;\n+--------+------+------+-----------------+\n| sname  | sex  | age  | remark          |\n+--------+------+------+-----------------+\n| 张三   | 男   |   19 | 他来自四川      |\n| 李四   | 男   |   20 | 他来自重庆      |\n| 张红   | 女   |   19 | 他来自北京      |\n| 张八   | 男   |   18 | 他来自天津      |\n| 三李   | 男   |   19 | 他来自湖北      |\n| 王六   | 女   |   20 | 他来自湖南      |\n| 刘红   | 女   |   18 | 他来自甘肃      |\n+--------+------+------+-----------------+\n8 rows in set (0.01 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"select-视图-修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#select-视图-修改"}},[s._v("#")]),s._v(" select 视图 修改")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("修改我们的s_view视图")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> create view s_view_1 as(select sname,sex,age,remark from students);\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql> alter view s_view as select sname,remark from s_view_1;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql> select * from s_view;\n+--------+-----------------+\n| sname  | remark          |\n+--------+-----------------+\n| 张三   | 他来自四川      |\n| 李四   | 他来自重庆      |\n| 张红   | 他来自北京      |\n| 张八   | 他来自天津      |\n| 三李   | 他来自湖北      |\n| 王六   | 他来自湖南      |\n| 刘红   | 他来自甘肃      |\n+--------+-----------------+\n8 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"create-or-replace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-or-replace"}},[s._v("#")]),s._v(" create or replace")]),s._v(" "),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("修改我们的s_view视图")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> create or replace view  s_view as select sname from students;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql> select * from s_view;\n+--------+\n| sname  |\n+--------+\n| 张三   |\n| 李四   |\n| 张红   |\n| 张八   |\n| 三李   |\n| 王六   |\n| 刘红   |\n+--------+\n8 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h2",{attrs:{id:"视图查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图查看"}},[s._v("#")]),s._v(" 视图查看")]),s._v(" "),a("h3",{attrs:{id:"显示视图创建情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显示视图创建情况"}},[s._v("#")]),s._v(" 显示视图创建情况")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\nshow create view 视图名;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("案例：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> show create view s_view;\n+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+\n| View   | Create View                                                                                                                                                                      | character_set_client | collation_connection |\n+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+\n| s_view | CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `s_view` AS select `s_view_1`.`sname` AS `sname`,`s_view_1`.`remark` AS `remark` from `s_view_1` | utf8mb4              | utf8mb4_0900_ai_ci   |\n+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------+\n1 row in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"查看视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看视图"}},[s._v("#")]),s._v(" 查看视图")]),s._v(" "),a("h4",{attrs:{id:"查看视图结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看视图结构"}},[s._v("#")]),s._v(" 查看视图结构")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\ndesc 视图名;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("案例：")])]),s._v(" "),a("p",[s._v("查看视图s_view结构")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> desc s_view;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| sname | varchar(20) | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n1 row in set (0.02 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"查看数据库中的视图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看数据库中的视图"}},[s._v("#")]),s._v(" 查看数据库中的视图")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\nshow tables [like %字符串%];\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("案例：")]),s._v(" "),a("p",[s._v("查看数据库中所有视图")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> show tables;\n+--------------------+\n| Tables_in_zutuanxue |\n+--------------------+\n| classes            |\n| new_user           |\n| s_view             |\n| s_view_1           |\n| stu                |\n| student            |\n| students           |\n| t1                 |\n| t2                 |\n| t3                 |\n| t4                 |\n| t5                 |\n| t6                 |\n| teacher            |\n| user               |\n+--------------------+\n15 rows in set (0.00 sec)\n\nmysql> show tables like '%view%';\n+-----------------------------+\n| Tables_in_zutuanxue (%view%) |\n+-----------------------------+\n| s_view                      |\n| s_view_1                    |\n+-----------------------------+\n2 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("h2",{attrs:{id:"视图删除及重命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图删除及重命名"}},[s._v("#")]),s._v(" 视图删除及重命名")]),s._v(" "),a("h3",{attrs:{id:"视图删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图删除"}},[s._v("#")]),s._v(" 视图删除")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\ndrop view 视图列表;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("案例：")]),s._v(" "),a("p",[s._v("删除视图s_view_1")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> drop view s_view_1;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> show tables like '%view%';\n+-----------------------------+\n| Tables_in_zutuanxue (%view%) |\n+-----------------------------+\n| s_view                      |\n+-----------------------------+\n1 row in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"视图重命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图重命名"}},[s._v("#")]),s._v(" 视图重命名")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("格式：\nrename table 视图名 to 新视图名;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("案例：")]),s._v(" "),a("p",[s._v("修改视图s_view的名字为view_s")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> rename table s_view to view_s;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql> show tables like '%view%';\n+-----------------------------+\n| Tables_in_zutuanxue (%view%) |\n+-----------------------------+\n| view_s                      |\n+-----------------------------+\n1 row in set (0.01 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);